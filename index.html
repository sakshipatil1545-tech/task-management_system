<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow Pro | Task Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4895ef;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --info: #7209b7;
            --dark: #2b2d42;
            --light: #f8f9fa;
            --gray: #adb5bd;
            --gray-light: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7fb;
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: white;
            box-shadow: var(--box-shadow);
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: var(--transition);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 24px;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 20px;
        }

        .logo-text {
            font-weight: 700;
            font-size: 20px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .sidebar-menu {
            padding: 20px 0;
            flex-grow: 1;
        }

        .menu-section {
            padding: 0 0 10px 0;
        }

        .section-title {
            padding: 0 24px 10px 24px;
            font-size: 12px;
            text-transform: uppercase;
            color: var(--gray);
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 24px;
            color: var(--dark);
            text-decoration: none;
            transition: var(--transition);
            border-left: 4px solid transparent;
            cursor: pointer;
        }

        .menu-item:hover, .menu-item.active {
            background-color: rgba(67, 97, 238, 0.05);
            border-left-color: var(--primary);
            color: var(--primary);
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        .menu-item .badge {
            margin-left: auto;
            background-color: var(--primary);
            color: white;
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .menu-item .badge.new {
            background-color: var(--danger);
        }

        .menu-item .badge.pending {
            background-color: var(--warning);
        }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid var(--gray-light);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .user-info h4 {
            font-size: 14px;
            font-weight: 600;
        }

        .user-info p {
            font-size: 12px;
            color: var(--gray);
        }

        /* Main Content */
        .main-content {
            flex-grow: 1;
            padding: 24px;
            overflow-y: auto;
            margin-left: 260px;
            transition: var(--transition);
        }

        /* Toggle button for mobile */
        .menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--primary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            box-shadow: var(--box-shadow);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .page-title h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--dark);
        }

        .page-title p {
            color: var(--gray);
            font-size: 14px;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary);
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-secondary:hover {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-warning {
            background-color: var(--warning);
            color: white;
        }

        /* Dashboard Stats */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .stat-icon.users {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .stat-icon.tasks {
            background-color: rgba(248, 150, 30, 0.1);
            color: var(--warning);
        }

        .stat-icon.projects {
            background-color: rgba(114, 9, 183, 0.1);
            color: var(--info);
        }

        .stat-icon.active {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .stat-info h3 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: var(--gray);
            font-size: 14px;
        }

        /* Dashboard Content - Initially hidden */
        .dashboard-content {
            display: block;
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Kanban Board */
        .kanban-section {
            margin-bottom: 40px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-header h2 {
            font-size: 22px;
            font-weight: 600;
        }

        .kanban-board {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
        }

        .kanban-column {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }

        .column-header {
            padding: 18px 20px;
            font-weight: 600;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .column-header.todo {
            background-color: var(--warning);
        }

        .column-header.inprogress {
            background-color: var(--primary);
        }

        .column-header.done {
            background-color: var(--success);
        }

        .column-header.review {
            background-color: var(--info);
        }

        .task-count {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
        }

        .column-content {
            padding: 20px;
            min-height: 400px;
        }

        .task-card {
            background: white;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--warning);
            cursor: move;
            transition: var(--transition);
        }

        .task-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
        }

        .task-card.inprogress {
            border-left-color: var(--primary);
        }

        .task-card.done {
            border-left-color: var(--success);
        }

        .task-card.review {
            border-left-color: var(--info);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .task-title {
            font-weight: 600;
            font-size: 16px;
        }

        .task-priority {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 20px;
            color: white;
        }

        .priority-high {
            background-color: var(--danger);
        }

        .priority-medium {
            background-color: var(--warning);
        }

        .priority-low {
            background-color: var(--success);
        }

        .task-description {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 12px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: var(--gray);
        }

        .task-assignee {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .assignee-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: 600;
        }

        /* Recent Activity & User Management */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 40px;
        }

        .panel {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }

        .panel-header {
            padding: 18px 20px;
            border-bottom: 1px solid var(--gray-light);
            font-weight: 600;
            font-size: 18px;
        }

        .panel-content {
            padding: 20px;
        }

        .activity-list, .user-list {
            list-style: none;
        }

        .activity-item, .user-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--gray-light);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .activity-item:last-child, .user-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        .activity-icon.login {
            background-color: var(--success);
        }

        .activity-icon.task {
            background-color: var(--primary);
        }

        .activity-icon.logout {
            background-color: var(--warning);
        }

        .activity-details h4 {
            font-size: 14px;
            font-weight: 600;
        }

        .activity-details p {
            font-size: 12px;
            color: var(--gray);
        }

        .user-avatar.small {
            width: 40px;
            height: 40px;
            font-size: 14px;
        }

        .user-details h4 {
            font-size: 15px;
            font-weight: 600;
        }

        .user-details p {
            font-size: 12px;
            color: var(--gray);
        }

        .user-status {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-left: auto;
        }

        .user-status.active {
            background-color: var(--success);
        }

        .user-status.inactive {
            background-color: var(--danger);
        }

        /* File Upload Section */
        .file-upload-section {
            margin-bottom: 40px;
        }

        .file-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .file-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--box-shadow);
            text-align: center;
            transition: var(--transition);
        }

        .file-card:hover {
            transform: translateY(-5px);
        }

        .file-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .file-icon.word {
            color: #2b579a;
        }

        .file-icon.pdf {
            color: #f40f02;
        }

        .file-icon.image {
            color: #1daf1d;
        }

        .file-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .file-size {
            color: var(--gray);
            font-size: 12px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        .modal-header {
            padding: 20px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            font-weight: 600;
            font-size: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .modal-body {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--gray-light);
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }

        .select-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--gray-light);
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            background-color: white;
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            border-radius: var(--border-radius);
            padding: 16px 20px;
            box-shadow: var(--box-shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1001;
            transform: translateX(150%);
            transition: transform 0.4s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        /* Task Management Page */
        .task-filters {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
        }

        .task-table-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }

        .task-table {
            width: 100%;
            border-collapse: collapse;
        }

        .task-table th {
            background-color: var(--primary);
            color: white;
            padding: 16px;
            text-align: left;
            font-weight: 600;
        }

        .task-table td {
            padding: 16px;
            border-bottom: 1px solid var(--gray-light);
        }

        .task-table tr:hover {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-todo {
            background-color: rgba(248, 150, 30, 0.1);
            color: var(--warning);
        }

        .status-inprogress {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .status-done {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: none;
            border: 1px solid var(--gray-light);
            cursor: pointer;
            transition: var(--transition);
        }

        .action-btn.edit:hover {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
            border-color: var(--primary);
        }

        .action-btn.delete:hover {
            background-color: rgba(247, 37, 133, 0.1);
            color: var(--danger);
            border-color: var(--danger);
        }

        /* User Management Page */
        .role-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .role-admin {
            background-color: rgba(247, 37, 133, 0.1);
            color: var(--danger);
        }

        .role-manager {
            background-color: rgba(114, 9, 183, 0.1);
            color: var(--info);
        }

        .role-employee {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        /* Login/Logout Tracking */
        .time-tracking-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }

        .time-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .current-time {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .current-date {
            font-size: 18px;
            color: var(--gray);
        }

        .time-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }

        .time-btn {
            padding: 15px 40px;
            font-size: 18px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .time-btn.login {
            background-color: var(--success);
            color: white;
        }

        .time-btn.logout {
            background-color: var(--danger);
            color: white;
        }

        .time-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .time-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .attendance-table {
            width: 100%;
            border-collapse: collapse;
        }

        .attendance-table th {
            background-color: var(--gray-light);
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: var(--dark);
        }

        .attendance-table td {
            padding: 15px;
            border-bottom: 1px solid var(--gray-light);
        }

        /* Filter Modal */
        .filter-modal {
            max-width: 600px;
        }

        .filter-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }

        /* Project Management */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .project-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border-top: 4px solid var(--primary);
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .project-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark);
        }

        .project-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-active {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .status-completed {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .status-onhold {
            background-color: rgba(248, 150, 30, 0.1);
            color: var(--warning);
        }

        .project-details {
            margin-bottom: 20px;
            color: var(--gray);
            font-size: 14px;
        }

        .project-progress {
            margin-bottom: 20px;
        }

        .progress-bar {
            height: 8px;
            background-color: var(--gray-light);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--gray);
        }

        .project-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid var(--gray-light);
        }

        .project-team {
            display: flex;
        }

        .team-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            margin-right: -8px;
            border: 2px solid white;
        }

        /* Role Management */
        .role-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .role-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .role-card:hover {
            transform: translateY(-5px);
        }

        .role-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .role-icon.admin {
            background-color: rgba(247, 37, 133, 0.1);
            color: var(--danger);
        }

        .role-icon.manager {
            background-color: rgba(114, 9, 183, 0.1);
            color: var(--info);
        }

        .role-icon.employee {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .role-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .role-description {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 20px;
        }

        .permissions-list {
            list-style: none;
            margin-bottom: 24px;
        }

        .permissions-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .permissions-list i {
            color: var(--success);
        }

        /* Reports & Analytics */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .chart-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--box-shadow);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-header h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .chart-wrapper {
            position: relative;
            height: 300px;
            width: 100%;
        }

        /* Attendance Reports */
        .date-range-filter {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            display: flex;
            gap: 15px;
            align-items: flex-end;
            flex-wrap: wrap;
        }

        .date-input-group {
            display: flex;
            flex-direction: column;
            min-width: 200px;
        }

        /* Settings Page */
        .settings-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .settings-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--box-shadow);
        }

        .settings-section h3 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray-light);
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid var(--gray-light);
        }

        .settings-item:last-child {
            border-bottom: none;
        }

        .settings-item label {
            font-weight: 500;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray);
            transition: .4s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--primary);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }

        /* Notifications Page */
        .notifications-list {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
        }

        .notification-item {
            display: flex;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid var(--gray-light);
            transition: var(--transition);
        }

        .notification-item:hover {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .notification-item.unread {
            background-color: rgba(67, 97, 238, 0.03);
        }

        .notification-icon-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 18px;
        }

        .notification-icon-circle.info {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .notification-icon-circle.success {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .notification-icon-circle.warning {
            background-color: rgba(248, 150, 30, 0.1);
            color: var(--warning);
        }

        .notification-content {
            flex-grow: 1;
        }

        .notification-content h4 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .notification-content p {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 4px;
        }

        .notification-time {
            font-size: 12px;
            color: var(--gray);
        }

        /* Mobile Responsiveness */
        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .kanban-board {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .project-grid, .role-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .menu-toggle {
                display: flex;
            }
            
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
                padding-top: 80px;
            }
            
            .sidebar-menu {
                display: block;
                overflow-y: auto;
            }
            
            .menu-item {
                flex-direction: row;
                min-width: auto;
                padding: 14px 24px;
                font-size: 14px;
                border-left: 4px solid transparent;
                border-bottom: none;
            }
            
            .menu-item:hover, .menu-item.active {
                border-left-color: var(--primary);
                border-bottom: none;
            }
            
            .dashboard-stats {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .kanban-board {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .header-actions {
                width: 100%;
                justify-content: space-between;
            }
            
            .time-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .time-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .task-filters, .date-range-filter {
                flex-direction: column;
            }
            
            .filter-group, .date-input-group {
                min-width: 100%;
            }
            
            .project-grid, .role-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">TF</div>
            <div class="logo-text">TaskFlow Pro</div>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-section">
                <div class="section-title">Main</div>
                <a href="#" class="menu-item active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="menu-item" data-page="taskManagement">
                    <i class="fas fa-tasks"></i>
                    <span>Task Management</span>
                    <span class="badge" id="taskBadge">12</span>
                </a>
                <a href="#" class="menu-item" data-page="kanbanBoard">
                    <i class="fas fa-columns"></i>
                    <span>Kanban Board</span>
                </a>
                <a href="#" class="menu-item" data-page="todoList">
                    <i class="fas fa-list-check"></i>
                    <span>To-Do List</span>
                    <span class="badge new" id="todoBadge">5</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="section-title">Users & Projects</div>
                <a href="#" class="menu-item" data-page="userManagement">
                    <i class="fas fa-users"></i>
                    <span>User Management</span>
                </a>
                <a href="#" class="menu-item" data-page="projectManagement">
                    <i class="fas fa-project-diagram"></i>
                    <span>Project Management</span>
                </a>
                <a href="#" class="menu-item" data-page="roleManagement">
                    <i class="fas fa-user-shield"></i>
                    <span>Role Management</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="section-title">Tracking</div>
                <a href="#" class="menu-item" data-page="timeTracking">
                    <i class="fas fa-user-clock"></i>
                    <span>Login/Logout Time</span>
                </a>
                <a href="#" class="menu-item" data-page="attendance">
                    <i class="fas fa-calendar-check"></i>
                    <span>Attendance Reports</span>
                </a>
                <a href="#" class="menu-item" data-page="productivity">
                    <i class="fas fa-chart-line"></i>
                    <span>Productivity Analytics</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="section-title">Files & Settings</div>
                <a href="#" class="menu-item" data-page="fileManager">
                    <i class="fas fa-file-upload"></i>
                    <span>File Manager</span>
                </a>
                <a href="#" class="menu-item" data-page="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reports</span>
                </a>
                <a href="#" class="menu-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="#" class="menu-item" data-page="notifications">
                    <i class="fas fa-bell"></i>
                    <span>Notifications</span>
                    <span class="badge pending" id="notificationBadge">3</span>
                </a>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <div class="user-avatar">JS</div>
            <div class="user-info">
                <h4>John Smith</h4>
                <p>Administrator</p>
            </div>
            <a href="#" style="margin-left: auto; color: var(--gray);" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
            </a>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <div class="header">
            <div class="page-title">
                <h1 id="pageTitle">Task Management Dashboard</h1>
                <p id="pageDescription">Welcome back! Here's what's happening with your tasks today.</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" id="addTaskBtn">
                    <i class="fas fa-plus"></i>
                    Add Task
                </button>
                <button class="btn btn-primary" id="addUserBtn">
                    <i class="fas fa-user-plus"></i>
                    Add User
                </button>
            </div>
        </div>
        
        <!-- Dashboard Content (Default Page) -->
        <div class="dashboard-content page-content active" id="dashboardPage">
            <!-- Dashboard Stats -->
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon users">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalUsers">24</h3>
                        <p>Total Users</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon tasks">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalTasks">47</h3>
                        <p>Total Tasks</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon projects">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="totalProjects">8</h3>
                        <p>Active Projects</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon active">
                        <i class="fas fa-user-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="activeUsers">18</h3>
                        <p>Active Users</p>
                    </div>
                </div>
            </div>
            
            <!-- Kanban Board -->
            <div class="kanban-section">
                <div class="section-header">
                    <h2>Task Kanban Board</h2>
                    <button class="btn btn-secondary" id="filterTasksBtn">
                        <i class="fas fa-filter"></i>
                        Filter Tasks
                    </button>
                </div>
                <div class="kanban-board" id="kanbanBoard">
                    <!-- To Do Column -->
                    <div class="kanban-column">
                        <div class="column-header todo">
                            <span>To Do</span>
                            <span class="task-count" id="todoCount">5</span>
                        </div>
                        <div class="column-content" id="todoColumn">
                            <!-- Task cards will be added here by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- In Progress Column -->
                    <div class="kanban-column">
                        <div class="column-header inprogress">
                            <span>In Progress</span>
                            <span class="task-count" id="inprogressCount">3</span>
                        </div>
                        <div class="column-content" id="inprogressColumn">
                            <!-- Task cards will be added here by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Done Column -->
                    <div class="kanban-column">
                        <div class="column-header done">
                            <span>Done</span>
                            <span class="task-count" id="doneCount">7</span>
                        </div>
                        <div class="column-content" id="doneColumn">
                            <!-- Task cards will be added here by JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Review Column -->
                    <div class="kanban-column">
                        <div class="column-header review">
                            <span>Review</span>
                            <span class="task-count" id="reviewCount">2</span>
                        </div>
                        <div class="column-content" id="reviewColumn">
                            <!-- Task cards will be added here by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Activity & User Management -->
            <div class="content-grid">
                <!-- Recent Activity Panel -->
                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-history"></i> Recent Activity
                    </div>
                    <div class="panel-content">
                        <ul class="activity-list" id="activityList">
                            <!-- Activity items will be added here by JavaScript -->
                        </ul>
                    </div>
                </div>
                
                <!-- User Management Panel -->
                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-user-friends"></i> User Status
                    </div>
                    <div class="panel-content">
                        <ul class="user-list" id="userList">
                            <!-- User items will be added here by JavaScript -->
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- File Upload Section -->
            <div class="file-upload-section">
                <div class="section-header">
                    <h2>Recent Files</h2>
                    <button class="btn btn-primary" id="uploadFileBtn">
                        <i class="fas fa-cloud-upload-alt"></i>
                        Upload File
                    </button>
                </div>
                <div class="file-grid" id="fileGrid">
                    <!-- File cards will be added here by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Task Management Page -->
        <div class="page-content" id="taskManagementPage">
            <div class="section-header">
                <h2>Task Management</h2>
                <button class="btn btn-primary" id="createTaskBtn">
                    <i class="fas fa-plus"></i>
                    Create New Task
                </button>
            </div>
            
            <div class="task-filters">
                <div class="filter-group">
                    <label>Status</label>
                    <select class="select-control" id="filterStatus">
                        <option value="all">All Status</option>
                        <option value="todo">To Do</option>
                        <option value="inprogress">In Progress</option>
                        <option value="review">Review</option>
                        <option value="done">Done</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Priority</label>
                    <select class="select-control" id="filterPriority">
                        <option value="all">All Priorities</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Assignee</label>
                    <select class="select-control" id="filterAssignee">
                        <option value="all">All Assignees</option>
                        <option value="John Smith">John Smith</option>
                        <option value="Sarah Johnson">Sarah Johnson</option>
                        <option value="Michael Brown">Michael Brown</option>
                        <option value="Emily Davis">Emily Davis</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Due Date</label>
                    <input type="date" class="form-control" id="filterDueDate">
                </div>
                <button class="btn btn-secondary" id="applyFiltersBtn">
                    <i class="fas fa-filter"></i>
                    Apply Filters
                </button>
                <button class="btn btn-secondary" id="clearFiltersBtn">
                    <i class="fas fa-times"></i>
                    Clear Filters
                </button>
            </div>
            
            <div class="task-table-container">
                <table class="task-table">
                    <thead>
                        <tr>
                            <th>Task Title</th>
                            <th>Assignee</th>
                            <th>Priority</th>
                            <th>Status</th>
                            <th>Due Date</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="taskTableBody">
                        <!-- Task rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- User Management Page -->
        <div class="page-content" id="userManagementPage">
            <div class="section-header">
                <h2>User Management</h2>
                <button class="btn btn-primary" id="addNewUserBtn">
                    <i class="fas fa-user-plus"></i>
                    Add New User
                </button>
            </div>
            
            <div class="task-table-container">
                <table class="task-table">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Last Login</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="userTableBody">
                        <!-- User rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Project Management Page -->
        <div class="page-content" id="projectManagementPage">
            <div class="section-header">
                <h2>Project Management</h2>
                <button class="btn btn-primary" id="addProjectBtn">
                    <i class="fas fa-plus"></i>
                    Add Project
                </button>
            </div>
            
            <div class="project-grid" id="projectGrid">
                <!-- Project cards will be added here by JavaScript -->
            </div>
        </div>
        
        <!-- Role Management Page -->
        <div class="page-content" id="roleManagementPage">
            <div class="section-header">
                <h2>Role Management</h2>
                <button class="btn btn-primary" id="addRoleBtn">
                    <i class="fas fa-plus"></i>
                    Add Role
                </button>
            </div>
            
            <div class="role-grid" id="roleGrid">
                <!-- Role cards will be added here by JavaScript -->
            </div>
        </div>
        
        <!-- Time Tracking Page -->
        <div class="page-content" id="timeTrackingPage">
            <div class="section-header">
                <h2>Login/Logout Time Tracking</h2>
                <button class="btn btn-secondary" id="exportTimeBtn">
                    <i class="fas fa-download"></i>
                    Export Report
                </button>
            </div>
            
            <div class="time-tracking-container">
                <div class="time-display">
                    <div class="current-time" id="currentTime">09:45:32 AM</div>
                    <div class="current-date" id="currentDate">Friday, January 9, 2026</div>
                </div>
                
                <div class="time-controls">
                    <button class="time-btn login" id="loginBtn">
                        <i class="fas fa-sign-in-alt"></i>
                        Log In
                    </button>
                    <button class="time-btn logout" id="logoutTimeBtn" disabled>
                        <i class="fas fa-sign-out-alt"></i>
                        Log Out
                    </button>
                </div>
                
                <h3 style="margin-bottom: 20px;">Today's Attendance</h3>
                <table class="attendance-table">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Login Time</th>
                            <th>Logout Time</th>
                            <th>Working Hours</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceTableBody">
                        <!-- Attendance rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Attendance Reports Page -->
        <div class="page-content" id="attendancePage">
            <div class="section-header">
                <h2>Attendance Reports</h2>
                <button class="btn btn-primary" id="generateReportBtn">
                    <i class="fas fa-file-export"></i>
                    Generate Report
                </button>
            </div>
            
            <div class="date-range-filter">
                <div class="date-input-group">
                    <label>From Date</label>
                    <input type="date" class="form-control" id="fromDate" value="2026-01-01">
                </div>
                <div class="date-input-group">
                    <label>To Date</label>
                    <input type="date" class="form-control" id="toDate" value="2026-01-09">
                </div>
                <div class="date-input-group">
                    <label>User</label>
                    <select class="select-control" id="reportUser">
                        <option value="all">All Users</option>
                        <option value="John Smith">John Smith</option>
                        <option value="Sarah Johnson">Sarah Johnson</option>
                        <option value="Michael Brown">Michael Brown</option>
                        <option value="Emily Davis">Emily Davis</option>
                    </select>
                </div>
                <button class="btn btn-secondary" id="applyReportFilters">
                    <i class="fas fa-filter"></i>
                    Apply Filters
                </button>
            </div>
            
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Attendance Overview</h3>
                        <select class="select-control" style="width: auto;" id="attendanceChartType">
                            <option value="bar">Bar Chart</option>
                            <option value="line">Line Chart</option>
                            <option value="pie">Pie Chart</option>
                        </select>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="attendanceChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Working Hours Analysis</h3>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="workingHoursChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="task-table-container" style="margin-top: 30px;">
                <table class="task-table">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Date</th>
                            <th>Login Time</th>
                            <th>Logout Time</th>
                            <th>Working Hours</th>
                            <th>Status</th>
                            <th>Late Arrival</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceReportBody">
                        <!-- Attendance report rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Productivity Analytics Page -->
        <div class="page-content" id="productivityPage">
            <div class="section-header">
                <h2>Productivity Analytics</h2>
                <button class="btn btn-primary" id="refreshAnalyticsBtn">
                    <i class="fas fa-sync-alt"></i>
                    Refresh Analytics
                </button>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon users">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="avgCompletionRate">78%</h3>
                        <p>Avg. Task Completion</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon tasks">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="avgTaskTime">2.4</h3>
                        <p>Avg. Task Time (Days)</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon projects">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="onTimeRate">85%</h3>
                        <p>On-Time Completion</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon active">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="productivityScore">8.7</h3>
                        <p>Productivity Score</p>
                    </div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Task Completion Trend</h3>
                        <select class="select-control" style="width: auto;" id="productivityChartType">
                            <option value="monthly">Monthly</option>
                            <option value="weekly">Weekly</option>
                            <option value="daily">Daily</option>
                        </select>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="productivityChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>User Productivity Ranking</h3>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="userRankingChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="task-table-container" style="margin-top: 30px;">
                <table class="task-table">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Tasks Completed</th>
                            <th>Avg. Time/Task</th>
                            <th>On-Time Rate</th>
                            <th>Productivity Score</th>
                            <th>Rank</th>
                        </tr>
                    </thead>
                    <tbody id="productivityTableBody">
                        <!-- Productivity rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Reports Page -->
        <div class="page-content" id="reportsPage">
            <div class="section-header">
                <h2>Reports</h2>
                <div class="header-actions">
                    <button class="btn btn-success" id="exportPdfBtn">
                        <i class="fas fa-file-pdf"></i>
                        Export PDF
                    </button>
                    <button class="btn btn-primary" id="exportExcelBtn">
                        <i class="fas fa-file-excel"></i>
                        Export Excel
                    </button>
                </div>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-icon users">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="reportPeriod">Jan 2026</h3>
                        <p>Reporting Period</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon tasks">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="attendanceRate">92%</h3>
                        <p>Attendance Rate</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon projects">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="efficiencyRate">87%</h3>
                        <p>Efficiency Rate</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon active">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="reportTasks">156</h3>
                        <p>Tasks Completed</p>
                    </div>
                </div>
            </div>
            
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Monthly Performance Summary</h3>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="performanceChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Department Performance</h3>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="departmentChart"></canvas>
                    </div>
                </div>
            </div>
            
            <div class="content-grid" style="margin-top: 30px;">
                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-trophy"></i> Top Performers
                    </div>
                    <div class="panel-content">
                        <ul class="user-list" id="topPerformersList">
                            <!-- Top performers will be added here by JavaScript -->
                        </ul>
                    </div>
                </div>
                
                <div class="panel">
                    <div class="panel-header">
                        <i class="fas fa-exclamation-triangle"></i> Areas Needing Improvement
                    </div>
                    <div class="panel-content">
                        <ul class="activity-list" id="improvementList">
                            <!-- Improvement areas will be added here by JavaScript -->
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="task-table-container" style="margin-top: 30px;">
                <table class="task-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Current Month</th>
                            <th>Previous Month</th>
                            <th>Change</th>
                            <th>Target</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="metricsTableBody">
                        <!-- Metrics rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- File Manager Page -->
        <div class="page-content" id="fileManagerPage">
            <div class="section-header">
                <h2>File Manager</h2>
                <button class="btn btn-primary" id="uploadNewFileBtn">
                    <i class="fas fa-cloud-upload-alt"></i>
                    Upload New File
                </button>
            </div>
            
            <div class="file-upload-section">
                <div class="file-grid" id="fileManagerGrid">
                    <!-- File cards will be added here by JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Settings Page -->
        <div class="page-content" id="settingsPage">
            <div class="section-header">
                <h2>System Settings</h2>
                <button class="btn btn-primary" id="saveSettingsBtn">
                    <i class="fas fa-save"></i>
                    Save Settings
                </button>
            </div>
            
            <div class="settings-grid">
                <div class="settings-section">
                    <h3>General Settings</h3>
                    <div class="settings-item">
                        <label>Company Name</label>
                        <input type="text" class="form-control" style="width: 200px;" value="TaskFlow Pro">
                    </div>
                    <div class="settings-item">
                        <label>Time Zone</label>
                        <select class="select-control" style="width: 200px;">
                            <option>UTC-05:00 Eastern Time</option>
                            <option>UTC-08:00 Pacific Time</option>
                            <option>UTC+00:00 GMT</option>
                            <option>UTC+05:30 India</option>
                        </select>
                    </div>
                    <div class="settings-item">
                        <label>Date Format</label>
                        <select class="select-control" style="width: 200px;">
                            <option>MM/DD/YYYY</option>
                            <option>DD/MM/YYYY</option>
                            <option>YYYY-MM-DD</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Notification Settings</h3>
                    <div class="settings-item">
                        <label>Email Notifications</label>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>Push Notifications</label>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>Task Reminders</label>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>Weekly Reports</label>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h3>Security Settings</h3>
                    <div class="settings-item">
                        <label>Two-Factor Authentication</label>
                        <label class="toggle-switch">
                            <input type="checkbox">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="settings-item">
                        <label>Session Timeout (minutes)</label>
                        <input type="number" class="form-control" style="width: 100px;" value="30">
                    </div>
                    <div class="settings-item">
                        <label>Password Policy</label>
                        <select class="select-control" style="width: 200px;">
                            <option>Standard</option>
                            <option>Enhanced</option>
                            <option>Strict</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Notifications Page -->
        <div class="page-content" id="notificationsPage">
            <div class="section-header">
                <h2>Notifications</h2>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="markAllReadBtn">
                        <i class="fas fa-check-double"></i>
                        Mark All as Read
                    </button>
                    <button class="btn btn-danger" id="clearAllBtn">
                        <i class="fas fa-trash"></i>
                        Clear All
                    </button>
                </div>
            </div>
            
            <div class="notifications-list" id="notificationsList">
                <!-- Notifications will be added here by JavaScript -->
            </div>
        </div>
        
        <!-- To-Do List Page -->
        <div class="page-content" id="todoListPage">
            <div class="section-header">
                <h2>My To-Do List</h2>
                <button class="btn btn-primary" id="addTodoBtn">
                    <i class="fas fa-plus"></i>
                    Add Todo
                </button>
            </div>
            
            <div class="task-filters">
                <div class="filter-group">
                    <label>Filter by</label>
                    <select class="select-control" id="todoFilter">
                        <option value="all">All Tasks</option>
                        <option value="today">Today</option>
                        <option value="overdue">Overdue</option>
                        <option value="completed">Completed</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Sort by</label>
                    <select class="select-control" id="todoSort">
                        <option value="dueDate">Due Date</option>
                        <option value="priority">Priority</option>
                        <option value="title">Title</option>
                    </select>
                </div>
                <button class="btn btn-secondary" id="applyTodoFilters">
                    <i class="fas fa-filter"></i>
                    Apply
                </button>
            </div>
            
            <div class="task-table-container">
                <table class="task-table">
                    <thead>
                        <tr>
                            <th width="50">
                                <input type="checkbox" id="selectAllTodos">
                            </th>
                            <th>Task</th>
                            <th>Due Date</th>
                            <th>Priority</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="todoTableBody">
                        <!-- Todo rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="task-filters" style="margin-top: 20px;">
                <button class="btn btn-success" id="markSelectedComplete">
                    <i class="fas fa-check"></i>
                    Mark Selected as Complete
                </button>
                <button class="btn btn-danger" id="deleteSelectedTodos">
                    <i class="fas fa-trash"></i>
                    Delete Selected
                </button>
            </div>
        </div>
        
        <!-- Other pages would follow similar structure -->
    </div>
    
    <!-- Add Task Modal -->
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="taskModalTitle">Create New Task</span>
                <button class="modal-close" id="closeTaskModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <input type="hidden" id="editTaskId" value="">
                    <div class="form-group">
                        <label for="taskTitle">Task Title</label>
                        <input type="text" id="taskTitle" class="form-control" placeholder="Enter task title" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">Description</label>
                        <textarea id="taskDescription" class="form-control" rows="3" placeholder="Enter task description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="taskAssignee">Assign To</label>
                        <select id="taskAssignee" class="select-control">
                            <option value="John Smith">John Smith</option>
                            <option value="Sarah Johnson">Sarah Johnson</option>
                            <option value="Michael Brown">Michael Brown</option>
                            <option value="Emily Davis">Emily Davis</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskPriority">Priority</label>
                        <select id="taskPriority" class="select-control">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskStatus">Status</label>
                        <select id="taskStatus" class="select-control">
                            <option value="todo">To Do</option>
                            <option value="inprogress">In Progress</option>
                            <option value="review">Review</option>
                            <option value="done">Done</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="taskDueDate">Due Date</label>
                        <input type="date" id="taskDueDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="taskProject">Project</label>
                        <select id="taskProject" class="select-control">
                            <option value="">No Project</option>
                            <option value="Website Redesign">Website Redesign</option>
                            <option value="Mobile App Development">Mobile App Development</option>
                            <option value="CRM Implementation">CRM Implementation</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="taskSubmitBtn">Create Task</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Add User Modal -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="userModalTitle">Add New User</span>
                <button class="modal-close" id="closeUserModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <input type="hidden" id="editUserId" value="">
                    <div class="form-group">
                        <label for="userName">Full Name</label>
                        <input type="text" id="userName" class="form-control" placeholder="Enter user's full name" required>
                    </div>
                    <div class="form-group">
                        <label for="userEmail">Email Address</label>
                        <input type="email" id="userEmail" class="form-control" placeholder="Enter user's email" required>
                    </div>
                    <div class="form-group">
                        <label for="userRole">Role</label>
                        <select id="userRole" class="select-control">
                            <option value="employee">Employee</option>
                            <option value="manager">Manager</option>
                            <option value="admin">Administrator</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="userStatus">Status</label>
                        <select id="userStatus" class="select-control">
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="userDepartment">Department</label>
                        <select id="userDepartment" class="select-control">
                            <option value="Development">Development</option>
                            <option value="Design">Design</option>
                            <option value="Marketing">Marketing</option>
                            <option value="Sales">Sales</option>
                            <option value="HR">HR</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="userSubmitBtn">Add User</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Add Project Modal -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="projectModalTitle">Create New Project</span>
                <button class="modal-close" id="closeProjectModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="projectForm">
                    <input type="hidden" id="editProjectId" value="">
                    <div class="form-group">
                        <label for="projectName">Project Name</label>
                        <input type="text" id="projectName" class="form-control" placeholder="Enter project name" required>
                    </div>
                    <div class="form-group">
                        <label for="projectDescription">Description</label>
                        <textarea id="projectDescription" class="form-control" rows="3" placeholder="Enter project description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="projectManager">Project Manager</label>
                        <select id="projectManager" class="select-control">
                            <option value="John Smith">John Smith</option>
                            <option value="Sarah Johnson">Sarah Johnson</option>
                            <option value="Michael Brown">Michael Brown</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="projectStatus">Status</label>
                        <select id="projectStatus" class="select-control">
                            <option value="active">Active</option>
                            <option value="completed">Completed</option>
                            <option value="onhold">On Hold</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="projectStartDate">Start Date</label>
                        <input type="date" id="projectStartDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="projectEndDate">End Date</label>
                        <input type="date" id="projectEndDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="projectProgress">Progress (%)</label>
                        <input type="number" id="projectProgress" class="form-control" min="0" max="100" value="0">
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="projectSubmitBtn">Create Project</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Add Role Modal -->
    <div class="modal" id="roleModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="roleModalTitle">Create New Role</span>
                <button class="modal-close" id="closeRoleModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="roleForm">
                    <input type="hidden" id="editRoleId" value="">
                    <div class="form-group">
                        <label for="roleName">Role Name</label>
                        <input type="text" id="roleName" class="form-control" placeholder="Enter role name" required>
                    </div>
                    <div class="form-group">
                        <label for="roleDescription">Description</label>
                        <textarea id="roleDescription" class="form-control" rows="3" placeholder="Enter role description"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Permissions</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 10px;">
                            <div>
                                <input type="checkbox" id="permTaskCreate" checked>
                                <label for="permTaskCreate">Create Tasks</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permTaskEdit" checked>
                                <label for="permTaskEdit">Edit Tasks</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permTaskDelete">
                                <label for="permTaskDelete">Delete Tasks</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permUserManage">
                                <label for="permUserManage">Manage Users</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permProjectManage">
                                <label for="permProjectManage">Manage Projects</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permReportsView" checked>
                                <label for="permReportsView">View Reports</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permSettingsEdit">
                                <label for="permSettingsEdit">Edit Settings</label>
                            </div>
                            <div>
                                <input type="checkbox" id="permFileUpload" checked>
                                <label for="permFileUpload">Upload Files</label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="roleSubmitBtn">Create Role</button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Filter Modal -->
    <div class="modal" id="filterModal">
        <div class="modal-content filter-modal">
            <div class="modal-header">
                <span>Filter Tasks</span>
                <button class="modal-close" id="closeFilterModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="filterKanbanStatus">Status</label>
                    <select id="filterKanbanStatus" class="select-control">
                        <option value="all">All Status</option>
                        <option value="todo">To Do</option>
                        <option value="inprogress">In Progress</option>
                        <option value="review">Review</option>
                        <option value="done">Done</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="filterKanbanPriority">Priority</label>
                    <select id="filterKanbanPriority" class="select-control">
                        <option value="all">All Priorities</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="filterKanbanAssignee">Assignee</label>
                    <select id="filterKanbanAssignee" class="select-control">
                        <option value="all">All Assignees</option>
                        <option value="John Smith">John Smith</option>
                        <option value="Sarah Johnson">Sarah Johnson</option>
                        <option value="Michael Brown">Michael Brown</option>
                        <option value="Emily Davis">Emily Davis</option>
                    </select>
                </div>
                <div class="filter-actions">
                    <button class="btn btn-secondary" id="applyKanbanFiltersBtn">
                        <i class="fas fa-filter"></i>
                        Apply Filters
                    </button>
                    <button class="btn btn-secondary" id="closeFilterModalBtn">
                        <i class="fas fa-times"></i>
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-check"></i>
        </div>
        <div class="notification-content">
            <h4 id="notificationTitle">Task Created Successfully!</h4>
            <p id="notificationMessage">The new task has been added to the To Do column.</p>
        </div>
    </div>
    
    <!-- Confirmation Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="confirmModalTitle">Confirm Action</span>
                <button class="modal-close" id="closeConfirmModal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirmModalMessage">Are you sure you want to delete this item?</p>
                <div class="filter-actions">
                    <button class="btn btn-primary" id="confirmDeleteBtn">Yes, Delete</button>
                    <button class="btn btn-secondary" id="cancelDeleteBtn">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add Todo Modal -->
    <div class="modal" id="todoModal">
        <div class="modal-content">
            <div class="modal-header">
                <span id="todoModalTitle">Add New Todo</span>
                <button class="modal-close" id="closeTodoModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="todoForm">
                    <input type="hidden" id="editTodoId" value="">
                    <div class="form-group">
                        <label for="todoTitle">Task Title</label>
                        <input type="text" id="todoTitle" class="form-control" placeholder="Enter task title" required>
                    </div>
                    <div class="form-group">
                        <label for="todoDescription">Description</label>
                        <textarea id="todoDescription" class="form-control" rows="3" placeholder="Enter task description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="todoPriority">Priority</label>
                        <select id="todoPriority" class="select-control">
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="todoDueDate">Due Date</label>
                        <input type="date" id="todoDueDate" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;" id="todoSubmitBtn">Add Todo</button>
                </form>
            </div>
        </div>
    </div>
    
    <script>
        // Sample data for the dashboard
        let sampleTasks = [
            { id: 1, title: "Design Homepage", description: "Create wireframes and mockups for the new homepage design", assignee: "John Smith", priority: "high", status: "todo", dueDate: "2026-01-15", project: "Website Redesign" },
            { id: 2, title: "API Integration", description: "Integrate user authentication API with frontend", assignee: "Sarah Johnson", priority: "medium", status: "inprogress", dueDate: "2026-01-12", project: "Mobile App Development" },
            { id: 3, title: "Database Optimization", description: "Optimize queries for better performance", assignee: "Michael Brown", priority: "high", status: "inprogress", dueDate: "2026-01-14", project: "CRM Implementation" },
            { id: 4, title: "Mobile Responsive Fixes", description: "Fix UI issues on mobile devices", assignee: "Emily Davis", priority: "medium", status: "todo", dueDate: "2026-01-18", project: "Website Redesign" },
            { id: 5, title: "User Testing", description: "Conduct user testing for the new features", assignee: "John Smith", priority: "low", status: "review", dueDate: "2026-01-20", project: "Mobile App Development" },
            { id: 6, title: "Documentation Update", description: "Update API documentation with new endpoints", assignee: "Sarah Johnson", priority: "low", status: "done", dueDate: "2026-01-10", project: "CRM Implementation" },
            { id: 7, title: "Bug Fix: Login Issue", description: "Fix the persistent login bug on Firefox", assignee: "Michael Brown", priority: "high", status: "done", dueDate: "2026-01-08", project: "Website Redesign" },
            { id: 8, title: "Performance Report", description: "Generate monthly performance report for management", assignee: "Emily Davis", priority: "medium", status: "todo", dueDate: "2026-01-25", project: "" },
            { id: 9, title: "Security Audit", description: "Conduct security audit for the payment module", assignee: "John Smith", priority: "high", status: "inprogress", dueDate: "2026-01-22", project: "CRM Implementation" },
            { id: 10, title: "Client Presentation", description: "Prepare slides for client presentation", assignee: "Sarah Johnson", priority: "medium", status: "done", dueDate: "2026-01-05", project: "" }
        ];

        let sampleUsers = [
            { id: 1, name: "John Smith", email: "john@company.com", role: "admin", status: "active", lastLogin: "Today, 09:15 AM", department: "Development" },
            { id: 2, name: "Sarah Johnson", email: "sarah@company.com", role: "manager", status: "active", lastLogin: "Today, 08:45 AM", department: "Design" },
            { id: 3, name: "Michael Brown", email: "michael@company.com", role: "employee", status: "active", lastLogin: "Today, 09:00 AM", department: "Development" },
            { id: 4, name: "Emily Davis", email: "emily@company.com", role: "employee", status: "inactive", lastLogin: "Yesterday, 05:30 PM", department: "Marketing" },
            { id: 5, name: "David Wilson", email: "david@company.com", role: "employee", status: "active", lastLogin: "Today, 08:30 AM", department: "Sales" },
            { id: 6, name: "Lisa Anderson", email: "lisa@company.com", role: "manager", status: "active", lastLogin: "Today, 09:10 AM", department: "HR" }
        ];

        let sampleProjects = [
            { id: 1, name: "Website Redesign", description: "Complete redesign of company website with modern UI/UX", manager: "John Smith", status: "active", startDate: "2026-01-01", endDate: "2026-03-31", progress: 65, team: ["John Smith", "Emily Davis", "Sarah Johnson"] },
            { id: 2, name: "Mobile App Development", description: "Development of new mobile application for iOS and Android", manager: "Sarah Johnson", status: "active", startDate: "2026-01-15", endDate: "2026-05-30", progress: 40, team: ["Sarah Johnson", "John Smith", "Michael Brown"] },
            { id: 3, name: "CRM Implementation", description: "Implementation of new CRM system across sales department", manager: "Michael Brown", status: "active", startDate: "2026-01-10", endDate: "2026-04-15", progress: 80, team: ["Michael Brown", "David Wilson"] },
            { id: 4, name: "Marketing Campaign", description: "Q1 marketing campaign for new product launch", manager: "Emily Davis", status: "completed", startDate: "2025-12-01", endDate: "2026-01-05", progress: 100, team: ["Emily Davis", "Lisa Anderson"] },
            { id: 5, name: "Internal Training Program", description: "Employee training program for new software tools", manager: "Lisa Anderson", status: "onhold", startDate: "2026-02-01", endDate: "2026-03-31", progress: 10, team: ["Lisa Anderson", "David Wilson"] }
        ];

        let sampleRoles = [
            { id: 1, name: "Administrator", description: "Full system access with all permissions", permissions: ["Create Tasks", "Edit Tasks", "Delete Tasks", "Manage Users", "Manage Projects", "View Reports", "Edit Settings", "Upload Files"] },
            { id: 2, name: "Manager", description: "Manage teams and projects, create and assign tasks", permissions: ["Create Tasks", "Edit Tasks", "Delete Tasks", "View Reports", "Upload Files"] },
            { id: 3, name: "Employee", description: "Complete assigned tasks and update progress", permissions: ["Create Tasks", "Edit Tasks", "View Reports"] }
        ];

        let sampleTodos = [
            { id: 1, title: "Review project documentation", description: "Go through the project requirements document", priority: "medium", dueDate: "2026-01-10", completed: true },
            { id: 2, title: "Prepare weekly report", description: "Compile data for weekly team meeting", priority: "high", dueDate: "2026-01-11", completed: false },
            { id: 3, title: "Schedule client meeting", description: "Coordinate with client for project review", priority: "medium", dueDate: "2026-01-12", completed: false },
            { id: 4, title: "Update project timeline", description: "Adjust timeline based on current progress", priority: "low", dueDate: "2026-01-13", completed: false },
            { id: 5, title: "Team training session", description: "Conduct training on new software tools", priority: "high", dueDate: "2026-01-09", completed: true }
        ];

        let sampleAttendance = [
            { user: "John Smith", date: "2026-01-09", login: "09:15 AM", logout: "06:15 PM", hours: "9.0", status: "Present", late: "No" },
            { user: "Sarah Johnson", date: "2026-01-09", login: "08:45 AM", logout: "05:45 PM", hours: "9.0", status: "Present", late: "No" },
            { user: "Michael Brown", date: "2026-01-09", login: "09:30 AM", logout: "06:00 PM", hours: "8.5", status: "Present", late: "Yes (30 min)" },
            { user: "Emily Davis", date: "2026-01-09", login: "-", logout: "-", hours: "0", status: "Absent", late: "-" },
            { user: "David Wilson", date: "2026-01-09", login: "08:30 AM", logout: "05:30 PM", hours: "9.0", status: "Present", late: "No" },
            { user: "Lisa Anderson", date: "2026-01-09", login: "09:10 AM", logout: "06:10 PM", hours: "9.0", status: "Present", late: "No" },
            { user: "John Smith", date: "2026-01-08", login: "09:00 AM", logout: "06:00 PM", hours: "9.0", status: "Present", late: "No" },
            { user: "Sarah Johnson", date: "2026-01-08", login: "08:50 AM", logout: "05:50 PM", hours: "9.0", status: "Present", late: "No" },
            { user: "Michael Brown", date: "2026-01-08", login: "09:15 AM", logout: "06:15 PM", hours: "9.0", status: "Present", late: "No" }
        ];

        let sampleNotifications = [
            { id: 1, type: "info", title: "New Task Assigned", message: "You have been assigned a new task: 'Design Homepage'", time: "10:30 AM", read: false },
            { id: 2, type: "success", title: "Task Completed", message: "Your task 'API Documentation' has been marked as completed", time: "Yesterday, 4:15 PM", read: true },
            { id: 3, type: "warning", title: "Task Deadline Approaching", message: "Task 'Database Optimization' is due in 2 days", time: "Yesterday, 2:30 PM", read: false },
            { id: 4, type: "info", title: "New Comment", message: "John Smith commented on your task 'Mobile Responsive Fixes'", time: "2 days ago", read: true },
            { id: 5, type: "success", title: "Project Update", message: "Project 'Website Redesign' is now 65% complete", time: "3 days ago", read: true }
        ];

        let sampleProductivity = [
            { user: "John Smith", tasksCompleted: 24, avgTime: 2.1, onTimeRate: "92%", score: 9.2, rank: 1 },
            { user: "Sarah Johnson", tasksCompleted: 22, avgTime: 2.3, onTimeRate: "88%", score: 8.8, rank: 2 },
            { user: "Michael Brown", tasksCompleted: 20, avgTime: 2.5, onTimeRate: "85%", score: 8.5, rank: 3 },
            { user: "David Wilson", tasksCompleted: 18, avgTime: 2.8, onTimeRate: "82%", score: 8.1, rank: 4 },
            { user: "Lisa Anderson", tasksCompleted: 16, avgTime: 3.1, onTimeRate: "78%", score: 7.8, rank: 5 },
            { user: "Emily Davis", tasksCompleted: 12, avgTime: 3.5, onTimeRate: "75%", score: 7.3, rank: 6 }
        ];

        const sampleFiles = [
            { name: "Project_Requirements.docx", type: "word", size: "2.4 MB", icon: "word" },
            { name: "Q3_Report.pdf", type: "pdf", size: "5.1 MB", icon: "pdf" },
            { name: "Dashboard_Design.png", type: "image", size: "1.8 MB", icon: "image" },
            { name: "Database_Schema.docx", type: "word", size: "3.2 MB", icon: "word" },
            { name: "User_Manual.pdf", type: "pdf", size: "4.7 MB", icon: "pdf" }
        ];

        const attendanceData = [
            { user: "John Smith", login: "09:15 AM", logout: "-", hours: "-", status: "Present" },
            { user: "Sarah Johnson", login: "08:45 AM", logout: "-", hours: "-", status: "Present" },
            { user: "Michael Brown", login: "09:00 AM", logout: "-", hours: "-", status: "Present" },
            { user: "Emily Davis", login: "-", logout: "-", hours: "-", status: "Absent" },
            { user: "David Wilson", login: "08:30 AM", logout: "05:30 PM", hours: "9.0", status: "Completed" }
        ];

        // Filter state
        let currentFilters = {
            status: 'all',
            priority: 'all',
            assignee: 'all',
            dueDate: ''
        };
        
        let currentKanbanFilters = {
            status: 'all',
            priority: 'all',
            assignee: 'all'
        };

        // Chart instances
        let attendanceChart = null;
        let workingHoursChart = null;
        let productivityChart = null;
        let userRankingChart = null;
        let performanceChart = null;
        let departmentChart = null;
        
        // Variables for edit/delete operations
        let itemToDelete = null;
        let deleteType = null; // 'task' or 'user' or 'project' or 'role' or 'todo'
        
        // DOM elements
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menuToggle');
        const mainContent = document.getElementById('mainContent');
        const menuItems = document.querySelectorAll('.menu-item');
        const pageContents = document.querySelectorAll('.page-content');
        
        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date and time
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Load initial data
            loadTasksToKanban();
            loadUsers();
            loadActivities();
            loadFiles();
            loadTaskTable();
            loadUserTable();
            loadAttendanceTable();
            loadFileManagerGrid();
            loadProjects();
            loadRoles();
            loadTodos();
            loadAttendanceReport();
            loadProductivityData();
            loadReportsData();
            loadNotifications();
            updateStats();
            
            // Add event listeners
            setupEventListeners();
            
            // Initialize draggable functionality for Kanban
            initDraggable();
            
            // Initialize charts
            initializeCharts();
        });
        
        function setupEventListeners() {
            // Modal open buttons
            document.getElementById('addTaskBtn').addEventListener('click', () => openTaskModal());
            document.getElementById('addUserBtn').addEventListener('click', () => openUserModal());
            document.getElementById('createTaskBtn').addEventListener('click', () => openTaskModal());
            document.getElementById('addNewUserBtn').addEventListener('click', () => openUserModal());
            document.getElementById('addProjectBtn').addEventListener('click', () => openProjectModal());
            document.getElementById('addRoleBtn').addEventListener('click', () => openRoleModal());
            document.getElementById('addTodoBtn').addEventListener('click', () => openTodoModal());
            
            // Filter buttons
            document.getElementById('filterTasksBtn').addEventListener('click', () => document.getElementById('filterModal').classList.add('active'));
            document.getElementById('applyFiltersBtn').addEventListener('click', applyTaskFilters);
            document.getElementById('clearFiltersBtn').addEventListener('click', clearTaskFilters);
            document.getElementById('applyKanbanFiltersBtn').addEventListener('click', applyKanbanFilters);
            document.getElementById('applyReportFilters').addEventListener('click', loadAttendanceReport);
            document.getElementById('applyTodoFilters').addEventListener('click', loadTodos);
            
            // Modal close buttons
            document.getElementById('closeTaskModal').addEventListener('click', () => document.getElementById('taskModal').classList.remove('active'));
            document.getElementById('closeUserModal').addEventListener('click', () => document.getElementById('userModal').classList.remove('active'));
            document.getElementById('closeProjectModal').addEventListener('click', () => document.getElementById('projectModal').classList.remove('active'));
            document.getElementById('closeRoleModal').addEventListener('click', () => document.getElementById('roleModal').classList.remove('active'));
            document.getElementById('closeTodoModal').addEventListener('click', () => document.getElementById('todoModal').classList.remove('active'));
            document.getElementById('closeFilterModal').addEventListener('click', () => document.getElementById('filterModal').classList.remove('active'));
            document.getElementById('closeFilterModalBtn').addEventListener('click', () => document.getElementById('filterModal').classList.remove('active'));
            document.getElementById('closeConfirmModal').addEventListener('click', () => document.getElementById('confirmModal').classList.remove('active'));
            
            // Form submissions
            document.getElementById('taskForm').addEventListener('submit', handleTaskSubmit);
            document.getElementById('userForm').addEventListener('submit', handleUserSubmit);
            document.getElementById('projectForm').addEventListener('submit', handleProjectSubmit);
            document.getElementById('roleForm').addEventListener('submit', handleRoleSubmit);
            document.getElementById('todoForm').addEventListener('submit', handleTodoSubmit);
            
            // Time tracking
            document.getElementById('loginBtn').addEventListener('click', handleLogin);
            document.getElementById('logoutTimeBtn').addEventListener('click', handleLogout);
            
            // File upload
            document.getElementById('uploadFileBtn').addEventListener('click', () => {
                showNotification('Upload feature', 'File upload functionality will be implemented in the backend.');
            });
            
            document.getElementById('uploadNewFileBtn').addEventListener('click', () => {
                showNotification('Upload feature', 'File upload functionality will be implemented in the backend.');
            });
            
            // Export buttons
            document.getElementById('exportTimeBtn').addEventListener('click', () => {
                showNotification('Export Report', 'Attendance report has been exported successfully.');
            });
            
            document.getElementById('generateReportBtn').addEventListener('click', () => {
                showNotification('Report Generated', 'Attendance report has been generated successfully.');
            });
            
            document.getElementById('refreshAnalyticsBtn').addEventListener('click', () => {
                loadProductivityData();
                showNotification('Analytics Refreshed', 'Productivity analytics have been refreshed.');
            });
            
            document.getElementById('exportPdfBtn').addEventListener('click', () => {
                showNotification('PDF Export', 'Report has been exported as PDF.');
            });
            
            document.getElementById('exportExcelBtn').addEventListener('click', () => {
                showNotification('Excel Export', 'Report has been exported as Excel file.');
            });
            
            // Settings button
            document.getElementById('saveSettingsBtn').addEventListener('click', () => {
                showNotification('Settings Saved', 'System settings have been saved successfully.');
            });
            
            // Notifications buttons
            document.getElementById('markAllReadBtn').addEventListener('click', markAllNotificationsRead);
            document.getElementById('clearAllBtn').addEventListener('click', clearAllNotifications);
            
            // Todo list buttons
            document.getElementById('selectAllTodos').addEventListener('change', toggleSelectAllTodos);
            document.getElementById('markSelectedComplete').addEventListener('click', markSelectedTodosComplete);
            document.getElementById('deleteSelectedTodos').addEventListener('click', deleteSelectedTodos);
            
            // Logout button
            document.getElementById('logoutBtn').addEventListener('click', (e) => {
                e.preventDefault();
                showNotification('Logout', 'You have been logged out successfully.');
            });
            
            // Confirmation modal buttons
            document.getElementById('confirmDeleteBtn').addEventListener('click', confirmDelete);
            document.getElementById('cancelDeleteBtn').addEventListener('click', () => document.getElementById('confirmModal').classList.remove('active'));
            
            // Chart type changes
            document.getElementById('attendanceChartType').addEventListener('change', updateAttendanceChart);
            document.getElementById('productivityChartType').addEventListener('change', updateProductivityChart);
            
            // Menu toggle for mobile
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });
            
            // Close sidebar when clicking on a menu item on mobile
            menuItems.forEach(item => {
                item.addEventListener('click', () => {
                    if (window.innerWidth <= 768) {
                        sidebar.classList.remove('active');
                    }
                });
            });
            
            // Close modals when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target === document.getElementById('taskModal')) document.getElementById('taskModal').classList.remove('active');
                if (e.target === document.getElementById('userModal')) document.getElementById('userModal').classList.remove('active');
                if (e.target === document.getElementById('projectModal')) document.getElementById('projectModal').classList.remove('active');
                if (e.target === document.getElementById('roleModal')) document.getElementById('roleModal').classList.remove('active');
                if (e.target === document.getElementById('todoModal')) document.getElementById('todoModal').classList.remove('active');
                if (e.target === document.getElementById('filterModal')) document.getElementById('filterModal').classList.remove('active');
                if (e.target === document.getElementById('confirmModal')) document.getElementById('confirmModal').classList.remove('active');
            });
            
            // Navigation between pages
            menuItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remove active class from all menu items
                    menuItems.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked menu item
                    this.classList.add('active');
                    
                    // Get the page to show
                    const pageId = this.getAttribute('data-page');
                    
                    // Update page title and description
                    updatePageTitle(pageId);
                    
                    // Hide all page contents
                    pageContents.forEach(page => page.classList.remove('active'));
                    
                    // Show the selected page content
                    const targetPage = document.getElementById(`${pageId}Page`);
                    if (targetPage) {
                        targetPage.classList.add('active');
                        // Initialize charts if needed
                        if (pageId === 'attendance' || pageId === 'productivity' || pageId === 'reports') {
                            setTimeout(initializeCharts, 100);
                        }
                    } else {
                        // Fallback to dashboard if page doesn't exist
                        document.getElementById('dashboardPage').classList.add('active');
                        pageTitle.textContent = 'Task Management Dashboard';
                        pageDescription.textContent = 'Welcome back! Here\'s what\'s happening with your tasks today.';
                    }
                });
            });
        }
        
        function openTaskModal(taskId = null) {
            if (taskId) {
                // Edit mode
                const task = sampleTasks.find(t => t.id == taskId);
                if (task) {
                    document.getElementById('editTaskId').value = task.id;
                    document.getElementById('taskTitle').value = task.title;
                    document.getElementById('taskDescription').value = task.description;
                    document.getElementById('taskAssignee').value = task.assignee;
                    document.getElementById('taskPriority').value = task.priority;
                    document.getElementById('taskStatus').value = task.status;
                    document.getElementById('taskDueDate').value = task.dueDate;
                    document.getElementById('taskProject').value = task.project || "";
                    document.getElementById('taskModalTitle').textContent = 'Edit Task';
                    document.getElementById('taskSubmitBtn').textContent = 'Update Task';
                }
            } else {
                // Create mode
                document.getElementById('editTaskId').value = '';
                document.getElementById('taskForm').reset();
                document.getElementById('taskStatus').value = 'todo';
                document.getElementById('taskPriority').value = 'medium';
                document.getElementById('taskProject').value = '';
                document.getElementById('taskModalTitle').textContent = 'Create New Task';
                document.getElementById('taskSubmitBtn').textContent = 'Create Task';
            }
            document.getElementById('taskModal').classList.add('active');
        }
        
        function openUserModal(userId = null) {
            if (userId) {
                // Edit mode
                const user = sampleUsers.find(u => u.id == userId);
                if (user) {
                    document.getElementById('editUserId').value = user.id;
                    document.getElementById('userName').value = user.name;
                    document.getElementById('userEmail').value = user.email;
                    document.getElementById('userRole').value = user.role.toLowerCase();
                    document.getElementById('userStatus').value = user.status;
                    document.getElementById('userDepartment').value = user.department;
                    document.getElementById('userModalTitle').textContent = 'Edit User';
                    document.getElementById('userSubmitBtn').textContent = 'Update User';
                }
            } else {
                // Create mode
                document.getElementById('editUserId').value = '';
                document.getElementById('userForm').reset();
                document.getElementById('userRole').value = 'employee';
                document.getElementById('userStatus').value = 'active';
                document.getElementById('userDepartment').value = 'Development';
                document.getElementById('userModalTitle').textContent = 'Add New User';
                document.getElementById('userSubmitBtn').textContent = 'Add User';
            }
            document.getElementById('userModal').classList.add('active');
        }
        
        function openProjectModal(projectId = null) {
            if (projectId) {
                // Edit mode
                const project = sampleProjects.find(p => p.id == projectId);
                if (project) {
                    document.getElementById('editProjectId').value = project.id;
                    document.getElementById('projectName').value = project.name;
                    document.getElementById('projectDescription').value = project.description;
                    document.getElementById('projectManager').value = project.manager;
                    document.getElementById('projectStatus').value = project.status;
                    document.getElementById('projectStartDate').value = project.startDate;
                    document.getElementById('projectEndDate').value = project.endDate;
                    document.getElementById('projectProgress').value = project.progress;
                    document.getElementById('projectModalTitle').textContent = 'Edit Project';
                    document.getElementById('projectSubmitBtn').textContent = 'Update Project';
                }
            } else {
                // Create mode
                document.getElementById('editProjectId').value = '';
                document.getElementById('projectForm').reset();
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('projectStartDate').value = today;
                document.getElementById('projectEndDate').value = today;
                document.getElementById('projectProgress').value = 0;
                document.getElementById('projectModalTitle').textContent = 'Create New Project';
                document.getElementById('projectSubmitBtn').textContent = 'Create Project';
            }
            document.getElementById('projectModal').classList.add('active');
        }
        
        function openRoleModal(roleId = null) {
            if (roleId) {
                // Edit mode
                const role = sampleRoles.find(r => r.id == roleId);
                if (role) {
                    document.getElementById('editRoleId').value = role.id;
                    document.getElementById('roleName').value = role.name;
                    document.getElementById('roleDescription').value = role.description;
                    
                    // Set permissions
                    const permissions = ['permTaskCreate', 'permTaskEdit', 'permTaskDelete', 'permUserManage', 'permProjectManage', 'permReportsView', 'permSettingsEdit', 'permFileUpload'];
                    permissions.forEach(permId => {
                        const permName = document.querySelector(`label[for="${permId}"]`).textContent;
                        document.getElementById(permId).checked = role.permissions.includes(permName);
                    });
                    
                    document.getElementById('roleModalTitle').textContent = 'Edit Role';
                    document.getElementById('roleSubmitBtn').textContent = 'Update Role';
                }
            } else {
                // Create mode
                document.getElementById('editRoleId').value = '';
                document.getElementById('roleForm').reset();
                document.getElementById('roleModalTitle').textContent = 'Create New Role';
                document.getElementById('roleSubmitBtn').textContent = 'Create Role';
            }
            document.getElementById('roleModal').classList.add('active');
        }
        
        function openTodoModal(todoId = null) {
            if (todoId) {
                // Edit mode
                const todo = sampleTodos.find(t => t.id == todoId);
                if (todo) {
                    document.getElementById('editTodoId').value = todo.id;
                    document.getElementById('todoTitle').value = todo.title;
                    document.getElementById('todoDescription').value = todo.description;
                    document.getElementById('todoPriority').value = todo.priority;
                    document.getElementById('todoDueDate').value = todo.dueDate;
                    document.getElementById('todoModalTitle').textContent = 'Edit Todo';
                    document.getElementById('todoSubmitBtn').textContent = 'Update Todo';
                }
            } else {
                // Create mode
                document.getElementById('editTodoId').value = '';
                document.getElementById('todoForm').reset();
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('todoDueDate').value = today;
                document.getElementById('todoPriority').value = 'medium';
                document.getElementById('todoModalTitle').textContent = 'Add New Todo';
                document.getElementById('todoSubmitBtn').textContent = 'Add Todo';
            }
            document.getElementById('todoModal').classList.add('active');
        }
        
        function handleTaskSubmit(e) {
            e.preventDefault();
            
            const taskId = document.getElementById('editTaskId').value;
            const title = document.getElementById('taskTitle').value;
            const description = document.getElementById('taskDescription').value;
            const assignee = document.getElementById('taskAssignee').value;
            const priority = document.getElementById('taskPriority').value;
            const status = document.getElementById('taskStatus').value;
            const dueDate = document.getElementById('taskDueDate').value;
            const project = document.getElementById('taskProject').value;
            
            if (taskId) {
                // Update existing task
                const taskIndex = sampleTasks.findIndex(t => t.id == taskId);
                if (taskIndex !== -1) {
                    sampleTasks[taskIndex] = {
                        ...sampleTasks[taskIndex],
                        title,
                        description,
                        assignee,
                        priority,
                        status,
                        dueDate,
                        project
                    };
                    showNotification('Task Updated', `"${title}" has been updated successfully.`);
                }
            } else {
                // Create new task
                const newTask = {
                    id: sampleTasks.length > 0 ? Math.max(...sampleTasks.map(t => t.id)) + 1 : 1,
                    title: title,
                    description: description,
                    assignee: assignee,
                    priority: priority,
                    status: status,
                    dueDate: dueDate,
                    project: project
                };
                
                sampleTasks.push(newTask);
                showNotification('Task Created', `"${title}" has been added successfully.`);
            }
            
            // Update UI
            loadTasksToKanban();
            loadTaskTable();
            loadTodos();
            updateStats();
            
            // Close modal and reset form
            document.getElementById('taskModal').classList.remove('active');
            document.getElementById('taskForm').reset();
        }
        
        function handleUserSubmit(e) {
            e.preventDefault();
            
            const userId = document.getElementById('editUserId').value;
            const name = document.getElementById('userName').value;
            const email = document.getElementById('userEmail').value;
            const role = document.getElementById('userRole').value;
            const status = document.getElementById('userStatus').value;
            const department = document.getElementById('userDepartment').value;
            
            if (userId) {
                // Update existing user
                const userIndex = sampleUsers.findIndex(u => u.id == userId);
                if (userIndex !== -1) {
                    sampleUsers[userIndex] = {
                        ...sampleUsers[userIndex],
                        name,
                        email,
                        role: role.charAt(0).toUpperCase() + role.slice(1),
                        status,
                        department
                    };
                    showNotification('User Updated', `${name} has been updated successfully.`);
                }
            } else {
                // Create new user
                const newUser = {
                    id: sampleUsers.length > 0 ? Math.max(...sampleUsers.map(u => u.id)) + 1 : 1,
                    name: name,
                    email: email,
                    role: role.charAt(0).toUpperCase() + role.slice(1),
                    status: status,
                    department: department,
                    lastLogin: "Just now"
                };
                
                sampleUsers.push(newUser);
                showNotification('User Added', `${name} has been added as ${role}.`);
            }
            
            // Update UI
            loadUsers();
            loadUserTable();
            updateStats();
            
            // Close modal and reset form
            document.getElementById('userModal').classList.remove('active');
            document.getElementById('userForm').reset();
        }
        
        function handleProjectSubmit(e) {
            e.preventDefault();
            
            const projectId = document.getElementById('editProjectId').value;
            const name = document.getElementById('projectName').value;
            const description = document.getElementById('projectDescription').value;
            const manager = document.getElementById('projectManager').value;
            const status = document.getElementById('projectStatus').value;
            const startDate = document.getElementById('projectStartDate').value;
            const endDate = document.getElementById('projectEndDate').value;
            const progress = parseInt(document.getElementById('projectProgress').value);
            
            if (projectId) {
                // Update existing project
                const projectIndex = sampleProjects.findIndex(p => p.id == projectId);
                if (projectIndex !== -1) {
                    sampleProjects[projectIndex] = {
                        ...sampleProjects[projectIndex],
                        name,
                        description,
                        manager,
                        status,
                        startDate,
                        endDate,
                        progress
                    };
                    showNotification('Project Updated', `"${name}" has been updated successfully.`);
                }
            } else {
                // Create new project
                const newProject = {
                    id: sampleProjects.length > 0 ? Math.max(...sampleProjects.map(p => p.id)) + 1 : 1,
                    name: name,
                    description: description,
                    manager: manager,
                    status: status,
                    startDate: startDate,
                    endDate: endDate,
                    progress: progress,
                    team: [manager]
                };
                
                sampleProjects.push(newProject);
                showNotification('Project Created', `"${name}" has been added successfully.`);
            }
            
            // Update UI
            loadProjects();
            updateStats();
            
            // Close modal and reset form
            document.getElementById('projectModal').classList.remove('active');
            document.getElementById('projectForm').reset();
        }
        
        function handleRoleSubmit(e) {
            e.preventDefault();
            
            const roleId = document.getElementById('editRoleId').value;
            const name = document.getElementById('roleName').value;
            const description = document.getElementById('roleDescription').value;
            
            // Get selected permissions
            const permissions = [];
            const permissionElements = document.querySelectorAll('#roleForm input[type="checkbox"]:checked');
            permissionElements.forEach(el => {
                const label = document.querySelector(`label[for="${el.id}"]`).textContent;
                permissions.push(label);
            });
            
            if (roleId) {
                // Update existing role
                const roleIndex = sampleRoles.findIndex(r => r.id == roleId);
                if (roleIndex !== -1) {
                    sampleRoles[roleIndex] = {
                        ...sampleRoles[roleIndex],
                        name,
                        description,
                        permissions
                    };
                    showNotification('Role Updated', `"${name}" role has been updated successfully.`);
                }
            } else {
                // Create new role
                const newRole = {
                    id: sampleRoles.length > 0 ? Math.max(...sampleRoles.map(r => r.id)) + 1 : 1,
                    name: name,
                    description: description,
                    permissions: permissions
                };
                
                sampleRoles.push(newRole);
                showNotification('Role Created', `"${name}" role has been added successfully.`);
            }
            
            // Update UI
            loadRoles();
            
            // Close modal and reset form
            document.getElementById('roleModal').classList.remove('active');
            document.getElementById('roleForm').reset();
        }
        
        function handleTodoSubmit(e) {
            e.preventDefault();
            
            const todoId = document.getElementById('editTodoId').value;
            const title = document.getElementById('todoTitle').value;
            const description = document.getElementById('todoDescription').value;
            const priority = document.getElementById('todoPriority').value;
            const dueDate = document.getElementById('todoDueDate').value;
            
            if (todoId) {
                // Update existing todo
                const todoIndex = sampleTodos.findIndex(t => t.id == todoId);
                if (todoIndex !== -1) {
                    sampleTodos[todoIndex] = {
                        ...sampleTodos[todoIndex],
                        title,
                        description,
                        priority,
                        dueDate
                    };
                    showNotification('Todo Updated', `"${title}" has been updated successfully.`);
                }
            } else {
                // Create new todo
                const newTodo = {
                    id: sampleTodos.length > 0 ? Math.max(...sampleTodos.map(t => t.id)) + 1 : 1,
                    title: title,
                    description: description,
                    priority: priority,
                    dueDate: dueDate,
                    completed: false
                };
                
                sampleTodos.push(newTodo);
                showNotification('Todo Added', `"${title}" has been added to your to-do list.`);
            }
            
            // Update UI
            loadTodos();
            updateStats();
            
            // Close modal and reset form
            document.getElementById('todoModal').classList.remove('active');
            document.getElementById('todoForm').reset();
        }
        
        function applyTaskFilters() {
            const status = document.getElementById('filterStatus').value;
            const priority = document.getElementById('filterPriority').value;
            const assignee = document.getElementById('filterAssignee').value;
            const dueDate = document.getElementById('filterDueDate').value;
            
            currentFilters = { status, priority, assignee, dueDate };
            loadTaskTable();
            showNotification('Filters Applied', 'Task filters have been applied.');
        }
        
        function clearTaskFilters() {
            document.getElementById('filterStatus').value = 'all';
            document.getElementById('filterPriority').value = 'all';
            document.getElementById('filterAssignee').value = 'all';
            document.getElementById('filterDueDate').value = '';
            
            currentFilters = { status: 'all', priority: 'all', assignee: 'all', dueDate: '' };
            loadTaskTable();
            showNotification('Filters Cleared', 'All filters have been cleared.');
        }
        
        function applyKanbanFilters() {
            const status = document.getElementById('filterKanbanStatus').value;
            const priority = document.getElementById('filterKanbanPriority').value;
            const assignee = document.getElementById('filterKanbanAssignee').value;
            
            currentKanbanFilters = { status, priority, assignee };
            loadTasksToKanban();
            document.getElementById('filterModal').classList.remove('active');
            showNotification('Filters Applied', 'Kanban board filters have been applied.');
        }
        
        function handleLogin() {
            document.getElementById('loginBtn').disabled = true;
            document.getElementById('logoutTimeBtn').disabled = false;
            attendanceData[0].login = getCurrentTime();
            attendanceData[0].status = "Present";
            loadAttendanceTable();
            showNotification('Logged In', 'Your login time has been recorded successfully.');
        }
        
        function handleLogout() {
            document.getElementById('loginBtn').disabled = false;
            document.getElementById('logoutTimeBtn').disabled = true;
            attendanceData[0].logout = getCurrentTime();
            attendanceData[0].hours = "8.5";
            attendanceData[0].status = "Completed";
            loadAttendanceTable();
            showNotification('Logged Out', 'Your logout time has been recorded. Total working hours: 8.5');
        }
        
        function markAllNotificationsRead() {
            sampleNotifications.forEach(notification => {
                notification.read = true;
            });
            loadNotifications();
            showNotification('Notifications', 'All notifications marked as read.');
        }
        
        function clearAllNotifications() {
            sampleNotifications = [];
            loadNotifications();
            showNotification('Notifications', 'All notifications cleared.');
        }
        
        function toggleSelectAllTodos() {
            const selectAll = document.getElementById('selectAllTodos').checked;
            const checkboxes = document.querySelectorAll('#todoTableBody input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll;
            });
        }
        
        function markSelectedTodosComplete() {
            const checkboxes = document.querySelectorAll('#todoTableBody input[type="checkbox"]:checked');
            checkboxes.forEach(checkbox => {
                const todoId = parseInt(checkbox.value);
                const todoIndex = sampleTodos.findIndex(t => t.id === todoId);
                if (todoIndex !== -1) {
                    sampleTodos[todoIndex].completed = true;
                }
            });
            loadTodos();
            showNotification('To-Do List', 'Selected tasks marked as complete.');
        }
        
        function deleteSelectedTodos() {
            const checkboxes = document.querySelectorAll('#todoTableBody input[type="checkbox"]:checked');
            const idsToDelete = [];
            checkboxes.forEach(checkbox => {
                idsToDelete.push(parseInt(checkbox.value));
            });
            
            sampleTodos = sampleTodos.filter(todo => !idsToDelete.includes(todo.id));
            loadTodos();
            showNotification('To-Do List', 'Selected tasks deleted.');
        }
        
        function loadTasksToKanban() {
            // Clear all columns
            const columns = {
                todo: document.getElementById('todoColumn'),
                inprogress: document.getElementById('inprogressColumn'),
                done: document.getElementById('doneColumn'),
                review: document.getElementById('reviewColumn')
            };
            
            // Clear all columns
            Object.values(columns).forEach(col => col.innerHTML = '');
            
            // Count tasks by status
            const counts = {
                todo: 0,
                inprogress: 0,
                done: 0,
                review: 0
            };
            
            // Filter tasks
            const filteredTasks = sampleTasks.filter(task => {
                if (currentKanbanFilters.status !== 'all' && task.status !== currentKanbanFilters.status) return false;
                if (currentKanbanFilters.priority !== 'all' && task.priority !== currentKanbanFilters.priority) return false;
                if (currentKanbanFilters.assignee !== 'all' && task.assignee !== currentKanbanFilters.assignee) return false;
                return true;
            });
            
            // Add tasks to appropriate columns
            filteredTasks.forEach(task => {
                const taskCard = createTaskCard(task);
                columns[task.status].appendChild(taskCard);
                counts[task.status]++;
            });
            
            // Update counts
            document.getElementById('todoCount').textContent = counts.todo;
            document.getElementById('inprogressCount').textContent = counts.inprogress;
            document.getElementById('doneCount').textContent = counts.done;
            document.getElementById('reviewCount').textContent = counts.review;
            
            // Update badge in sidebar
            updateTaskBadges();
            
            // Reinitialize draggable
            setTimeout(initDraggable, 100);
        }
        
        function createTaskCard(task) {
            const taskCard = document.createElement('div');
            taskCard.className = `task-card ${task.status}`;
            taskCard.draggable = true;
            taskCard.dataset.id = task.id;
            taskCard.dataset.status = task.status;
            
            const priorityClass = `priority-${task.priority}`;
            
            taskCard.innerHTML = `
                <div class="task-header">
                    <div class="task-title">${task.title}</div>
                    <div class="task-priority ${priorityClass}">${task.priority.toUpperCase()}</div>
                </div>
                <div class="task-description">${task.description}</div>
                <div class="task-footer">
                    <div class="task-assignee">
                        <div class="assignee-avatar">${getInitials(task.assignee)}</div>
                        <span>${task.assignee}</span>
                    </div>
                    <div>
                        <i class="far fa-calendar-alt"></i> ${task.dueDate || 'No due date'}
                    </div>
                </div>
            `;
            
            return taskCard;
        }
        
        function loadTaskTable() {
            const taskTableBody = document.getElementById('taskTableBody');
            taskTableBody.innerHTML = '';
            
            // Filter tasks based on current filters
            const filteredTasks = sampleTasks.filter(task => {
                if (currentFilters.status !== 'all' && task.status !== currentFilters.status) return false;
                if (currentFilters.priority !== 'all' && task.priority !== currentFilters.priority) return false;
                if (currentFilters.assignee !== 'all' && task.assignee !== currentFilters.assignee) return false;
                if (currentFilters.dueDate && task.dueDate !== currentFilters.dueDate) return false;
                return true;
            });
            
            filteredTasks.forEach(task => {
                const statusClass = `status-${task.status}`;
                const priorityClass = `priority-${task.priority}`;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="font-weight: 600;">${task.title}</div>
                        <div style="font-size: 12px; color: var(--gray);">${task.description.substring(0, 50)}...</div>
                        ${task.project ? `<div style="font-size: 11px; color: var(--primary); margin-top: 4px;"><i class="fas fa-project-diagram"></i> ${task.project}</div>` : ''}
                    </td>
                    <td>${task.assignee}</td>
                    <td><span class="task-priority ${priorityClass}">${task.priority.toUpperCase()}</span></td>
                    <td><span class="status-badge ${statusClass}">${task.status.replace(/([A-Z])/g, ' $1').trim()}</span></td>
                    <td>${task.dueDate}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit" onclick="editTask(${task.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteTask(${task.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                taskTableBody.appendChild(row);
            });
        }
        
        function loadUserTable() {
            const userTableBody = document.getElementById('userTableBody');
            userTableBody.innerHTML = '';
            
            sampleUsers.forEach(user => {
                const statusClass = `user-status ${user.status}`;
                const roleClass = `role-${user.role.toLowerCase()}`;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div class="user-avatar small">${getInitials(user.name)}</div>
                            <div>
                                <div style="font-weight: 600;">${user.name}</div>
                                <div style="font-size: 12px; color: var(--gray);">ID: ${user.id.toString().padStart(3, '0')}</div>
                                <div style="font-size: 11px; color: var(--primary); margin-top: 2px;">${user.department}</div>
                            </div>
                        </div>
                    </td>
                    <td>${user.email}</td>
                    <td><span class="role-badge ${roleClass}">${user.role}</span></td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div class="${statusClass}"></div>
                            <span>${user.status.charAt(0).toUpperCase() + user.status.slice(1)}</span>
                        </div>
                    </td>
                    <td>${user.lastLogin}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit" onclick="editUser(${user.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteUser(${user.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                userTableBody.appendChild(row);
            });
        }
        
        function loadProjects() {
            const projectGrid = document.getElementById('projectGrid');
            projectGrid.innerHTML = '';
            
            sampleProjects.forEach(project => {
                const statusClass = `status-${project.status}`;
                
                const projectCard = document.createElement('div');
                projectCard.className = 'project-card';
                projectCard.innerHTML = `
                    <div class="project-header">
                        <div class="project-title">${project.name}</div>
                        <div class="project-status ${statusClass}">${project.status.charAt(0).toUpperCase() + project.status.slice(1)}</div>
                    </div>
                    <div class="project-details">
                        ${project.description}
                    </div>
                    <div class="project-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${project.progress}%"></div>
                        </div>
                        <div class="progress-text">
                            <span>Progress</span>
                            <span>${project.progress}%</span>
                        </div>
                    </div>
                    <div class="project-details" style="font-size: 13px;">
                        <div><i class="far fa-calendar-alt"></i> ${project.startDate} - ${project.endDate}</div>
                        <div><i class="fas fa-user-tie"></i> Manager: ${project.manager}</div>
                    </div>
                    <div class="project-footer">
                        <div class="project-team">
                            ${project.team.map((member, index) => `
                                <div class="team-avatar" style="z-index: ${10 - index};" title="${member}">
                                    ${getInitials(member)}
                                </div>
                            `).join('')}
                            <div class="team-avatar" style="background-color: var(--gray-light); color: var(--dark); z-index: 1;" title="Add member">
                                <i class="fas fa-plus"></i>
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button class="action-btn edit" onclick="editProject(${project.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteProject(${project.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                projectGrid.appendChild(projectCard);
            });
        }
        
        function loadRoles() {
            const roleGrid = document.getElementById('roleGrid');
            roleGrid.innerHTML = '';
            
            sampleRoles.forEach(role => {
                const roleCard = document.createElement('div');
                roleCard.className = 'role-card';
                roleCard.innerHTML = `
                    <div class="role-icon ${role.name.toLowerCase().includes('admin') ? 'admin' : role.name.toLowerCase().includes('manager') ? 'manager' : 'employee'}">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="role-title">${role.name}</div>
                    <div class="role-description">${role.description}</div>
                    <ul class="permissions-list">
                        ${role.permissions.map(perm => `
                            <li><i class="fas fa-check"></i> ${perm}</li>
                        `).join('')}
                    </ul>
                    <div class="action-buttons" style="justify-content: center;">
                        <button class="action-btn edit" onclick="editRole(${role.id})">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete" onclick="deleteRole(${role.id})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                roleGrid.appendChild(roleCard);
            });
        }
        
        function loadTodos() {
            const todoTableBody = document.getElementById('todoTableBody');
            todoTableBody.innerHTML = '';
            
            const filter = document.getElementById('todoFilter').value;
            const sort = document.getElementById('todoSort').value;
            
            // Filter todos
            let filteredTodos = [...sampleTodos];
            
            if (filter === 'today') {
                const today = new Date().toISOString().split('T')[0];
                filteredTodos = filteredTodos.filter(todo => todo.dueDate === today);
            } else if (filter === 'overdue') {
                const today = new Date().toISOString().split('T')[0];
                filteredTodos = filteredTodos.filter(todo => !todo.completed && todo.dueDate < today);
            } else if (filter === 'completed') {
                filteredTodos = filteredTodos.filter(todo => todo.completed);
            } else {
                // 'all' - no filter
            }
            
            // Sort todos
            filteredTodos.sort((a, b) => {
                if (sort === 'dueDate') {
                    return new Date(a.dueDate) - new Date(b.dueDate);
                } else if (sort === 'priority') {
                    const priorityOrder = { high: 3, medium: 2, low: 1 };
                    return priorityOrder[b.priority] - priorityOrder[a.priority];
                } else if (sort === 'title') {
                    return a.title.localeCompare(b.title);
                }
                return 0;
            });
            
            filteredTodos.forEach(todo => {
                const priorityClass = `priority-${todo.priority}`;
                const status = todo.completed ? 'Completed' : new Date(todo.dueDate) < new Date() ? 'Overdue' : 'Pending';
                const statusClass = todo.completed ? 'status-done' : new Date(todo.dueDate) < new Date() ? 'status-todo' : 'status-inprogress';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <input type="checkbox" value="${todo.id}" ${todo.completed ? 'checked' : ''}>
                    </td>
                    <td>
                        <div style="font-weight: 600;">${todo.title}</div>
                        <div style="font-size: 12px; color: var(--gray);">${todo.description}</div>
                    </td>
                    <td>${todo.dueDate}</td>
                    <td><span class="task-priority ${priorityClass}">${todo.priority.toUpperCase()}</span></td>
                    <td><span class="status-badge ${statusClass}">${status}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit" onclick="editTodo(${todo.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete" onclick="deleteTodo(${todo.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                todoTableBody.appendChild(row);
            });
        }
        
        function loadAttendanceReport() {
            const fromDate = document.getElementById('fromDate').value;
            const toDate = document.getElementById('toDate').value;
            const user = document.getElementById('reportUser').value;
            
            // Filter attendance data
            let filteredAttendance = sampleAttendance.filter(record => {
                if (user !== 'all' && record.user !== user) return false;
                if (record.date < fromDate || record.date > toDate) return false;
                return true;
            });
            
            // Update table
            const attendanceReportBody = document.getElementById('attendanceReportBody');
            attendanceReportBody.innerHTML = '';
            
            filteredAttendance.forEach(record => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${record.user}</td>
                    <td>${record.date}</td>
                    <td>${record.login}</td>
                    <td>${record.logout}</td>
                    <td>${record.hours}</td>
                    <td>
                        <span style="padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 500; 
                            ${record.status === 'Present' ? 'background-color: rgba(76, 201, 240, 0.1); color: var(--success);' : 
                            record.status === 'Absent' ? 'background-color: rgba(247, 37, 133, 0.1); color: var(--danger);' : 
                            'background-color: rgba(67, 97, 238, 0.1); color: var(--primary);'}">
                            ${record.status}
                        </span>
                    </td>
                    <td>${record.late}</td>
                `;
                
                attendanceReportBody.appendChild(row);
            });
            
            // Update charts
            updateAttendanceChart();
        }
        
        function loadProductivityData() {
            // Update stats
            document.getElementById('avgCompletionRate').textContent = '78%';
            document.getElementById('avgTaskTime').textContent = '2.4';
            document.getElementById('onTimeRate').textContent = '85%';
            document.getElementById('productivityScore').textContent = '8.7';
            
            // Update table
            const productivityTableBody = document.getElementById('productivityTableBody');
            productivityTableBody.innerHTML = '';
            
            sampleProductivity.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div class="user-avatar small">${getInitials(user.user)}</div>
                            <div style="font-weight: 600;">${user.user}</div>
                        </div>
                    </td>
                    <td>${user.tasksCompleted}</td>
                    <td>${user.avgTime} days</td>
                    <td>${user.onTimeRate}</td>
                    <td>${user.score}/10</td>
                    <td>
                        <span style="padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 500; 
                            ${user.rank <= 2 ? 'background-color: rgba(76, 201, 240, 0.1); color: var(--success);' : 
                            user.rank <= 4 ? 'background-color: rgba(67, 97, 238, 0.1); color: var(--primary);' : 
                            'background-color: rgba(248, 150, 30, 0.1); color: var(--warning);'}">
                            #${user.rank}
                        </span>
                    </td>
                `;
                
                productivityTableBody.appendChild(row);
            });
            
            // Update charts
            updateProductivityChart();
        }
        
        function loadReportsData() {
            // Update stats
            document.getElementById('reportPeriod').textContent = 'Jan 2026';
            document.getElementById('attendanceRate').textContent = '92%';
            document.getElementById('efficiencyRate').textContent = '87%';
            document.getElementById('reportTasks').textContent = '156';
            
            // Update top performers
            const topPerformersList = document.getElementById('topPerformersList');
            topPerformersList.innerHTML = '';
            
            sampleProductivity.slice(0, 3).forEach(user => {
                const item = document.createElement('li');
                item.className = 'user-item';
                item.innerHTML = `
                    <div class="user-avatar small">${getInitials(user.user)}</div>
                    <div class="user-details">
                        <h4>${user.user}</h4>
                        <p>Productivity Score: ${user.score}/10</p>
                    </div>
                    <div class="user-status active"></div>
                `;
                topPerformersList.appendChild(item);
            });
            
            // Update improvement areas
            const improvementList = document.getElementById('improvementList');
            improvementList.innerHTML = '';
            
            const improvements = [
                "Task completion time needs improvement in Design department",
                "Increase attendance rate for remote employees",
                "Reduce overdue tasks in Q1 projects"
            ];
            
            improvements.forEach(text => {
                const item = document.createElement('li');
                item.className = 'activity-item';
                item.innerHTML = `
                    <div class="activity-icon task">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="activity-details">
                        <h4>${text}</h4>
                        <p>Requires attention</p>
                    </div>
                `;
                improvementList.appendChild(item);
            });
            
            // Update metrics table
            const metricsTableBody = document.getElementById('metricsTableBody');
            metricsTableBody.innerHTML = '';
            
            const metrics = [
                { metric: "Task Completion Rate", current: "78%", previous: "72%", change: "+6%", target: "80%", status: "good" },
                { metric: "On-Time Delivery", current: "85%", previous: "82%", change: "+3%", target: "90%", status: "good" },
                { metric: "Employee Attendance", current: "92%", previous: "94%", change: "-2%", target: "95%", status: "warning" },
                { metric: "Project Completion", current: "65%", previous: "58%", change: "+7%", target: "70%", status: "good" },
                { metric: "Client Satisfaction", current: "4.2", previous: "4.0", change: "+0.2", target: "4.5", status: "good" }
            ];
            
            metrics.forEach(metric => {
                const statusClass = metric.status === 'good' ? 'status-done' : metric.status === 'warning' ? 'status-todo' : 'status-inprogress';
                const statusText = metric.status === 'good' ? 'On Track' : metric.status === 'warning' ? 'Needs Attention' : 'Behind Schedule';
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${metric.metric}</td>
                    <td>${metric.current}</td>
                    <td>${metric.previous}</td>
                    <td style="color: ${metric.change.startsWith('+') ? 'var(--success)' : 'var(--danger)'}">${metric.change}</td>
                    <td>${metric.target}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                `;
                
                metricsTableBody.appendChild(row);
            });
            
            // Update charts
            updateReportsCharts();
        }
        
        function loadNotifications() {
            const notificationsList = document.getElementById('notificationsList');
            notificationsList.innerHTML = '';
            
            sampleNotifications.forEach(notification => {
                const item = document.createElement('div');
                item.className = `notification-item ${notification.read ? '' : 'unread'}`;
                item.innerHTML = `
                    <div class="notification-icon-circle ${notification.type}">
                        <i class="fas fa-${notification.type === 'info' ? 'info-circle' : notification.type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
                    </div>
                    <div class="notification-content">
                        <h4>${notification.title}</h4>
                        <p>${notification.message}</p>
                        <div class="notification-time">${notification.time}</div>
                    </div>
                    ${!notification.read ? '<div class="user-status active" style="background-color: var(--primary);"></div>' : ''}
                `;
                
                notificationsList.appendChild(item);
            });
            
            // Update badge
            const unreadCount = sampleNotifications.filter(n => !n.read).length;
            document.getElementById('notificationBadge').textContent = unreadCount;
        }
        
        function editTask(taskId) {
            openTaskModal(taskId);
        }
        
        function deleteTask(taskId) {
            itemToDelete = taskId;
            deleteType = 'task';
            const task = sampleTasks.find(t => t.id == taskId);
            document.getElementById('confirmModalTitle').textContent = 'Delete Task';
            document.getElementById('confirmModalMessage').textContent = `Are you sure you want to delete the task "${task.title}"?`;
            document.getElementById('confirmModal').classList.add('active');
        }
        
        function editUser(userId) {
            openUserModal(userId);
        }
        
        function deleteUser(userId) {
            itemToDelete = userId;
            deleteType = 'user';
            const user = sampleUsers.find(u => u.id == userId);
            document.getElementById('confirmModalTitle').textContent = 'Delete User';
            document.getElementById('confirmModalMessage').textContent = `Are you sure you want to delete the user "${user.name}"?`;
            document.getElementById('confirmModal').classList.add('active');
        }
        
        function editProject(projectId) {
            openProjectModal(projectId);
        }
        
        function deleteProject(projectId) {
            itemToDelete = projectId;
            deleteType = 'project';
            const project = sampleProjects.find(p => p.id == projectId);
            document.getElementById('confirmModalTitle').textContent = 'Delete Project';
            document.getElementById('confirmModalMessage').textContent = `Are you sure you want to delete the project "${project.name}"?`;
            document.getElementById('confirmModal').classList.add('active');
        }
        
        function editRole(roleId) {
            openRoleModal(roleId);
        }
        
        function deleteRole(roleId) {
            itemToDelete = roleId;
            deleteType = 'role';
            const role = sampleRoles.find(r => r.id == roleId);
            document.getElementById('confirmModalTitle').textContent = 'Delete Role';
            document.getElementById('confirmModalMessage').textContent = `Are you sure you want to delete the role "${role.name}"?`;
            document.getElementById('confirmModal').classList.add('active');
        }
        
        function editTodo(todoId) {
            openTodoModal(todoId);
        }
        
        function deleteTodo(todoId) {
            itemToDelete = todoId;
            deleteType = 'todo';
            const todo = sampleTodos.find(t => t.id == todoId);
            document.getElementById('confirmModalTitle').textContent = 'Delete Todo';
            document.getElementById('confirmModalMessage').textContent = `Are you sure you want to delete the todo "${todo.title}"?`;
            document.getElementById('confirmModal').classList.add('active');
        }
        
        function confirmDelete() {
            if (deleteType === 'task') {
                sampleTasks = sampleTasks.filter(task => task.id != itemToDelete);
                showNotification('Task Deleted', 'The task has been deleted successfully.');
            } else if (deleteType === 'user') {
                sampleUsers = sampleUsers.filter(user => user.id != itemToDelete);
                showNotification('User Deleted', 'The user has been deleted successfully.');
            } else if (deleteType === 'project') {
                sampleProjects = sampleProjects.filter(project => project.id != itemToDelete);
                showNotification('Project Deleted', 'The project has been deleted successfully.');
            } else if (deleteType === 'role') {
                sampleRoles = sampleRoles.filter(role => role.id != itemToDelete);
                showNotification('Role Deleted', 'The role has been deleted successfully.');
            } else if (deleteType === 'todo') {
                sampleTodos = sampleTodos.filter(todo => todo.id != itemToDelete);
                showNotification('Todo Deleted', 'The todo has been deleted successfully.');
            }
            
            // Update UI
            loadTasksToKanban();
            loadTaskTable();
            loadUserTable();
            loadProjects();
            loadRoles();
            loadTodos();
            loadUsers();
            updateStats();
            
            // Close confirmation modal
            document.getElementById('confirmModal').classList.remove('active');
            itemToDelete = null;
            deleteType = null;
        }
        
        function loadAttendanceTable() {
            const attendanceTableBody = document.getElementById('attendanceTableBody');
            attendanceTableBody.innerHTML = '';
            
            attendanceData.forEach(record => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${record.user}</td>
                    <td>${record.login}</td>
                    <td>${record.logout}</td>
                    <td>${record.hours}</td>
                    <td>
                        <span style="padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 500; 
                            ${record.status === 'Present' ? 'background-color: rgba(76, 201, 240, 0.1); color: var(--success);' : 
                            record.status === 'Absent' ? 'background-color: rgba(247, 37, 133, 0.1); color: var(--danger);' : 
                            'background-color: rgba(67, 97, 238, 0.1); color: var(--primary);'}">
                            ${record.status}
                        </span>
                    </td>
                `;
                
                attendanceTableBody.appendChild(row);
            });
        }
        
        function loadFileManagerGrid() {
            const fileManagerGrid = document.getElementById('fileManagerGrid');
            fileManagerGrid.innerHTML = '';
            
            // Add more files for the file manager page
            const allFiles = [...sampleFiles, 
                { name: "Meeting_Minutes.docx", type: "word", size: "1.2 MB", icon: "word" },
                { name: "Budget_2026.xlsx", type: "word", size: "3.8 MB", icon: "word" },
                { name: "System_Architecture.pdf", type: "pdf", size: "6.5 MB", icon: "pdf" },
                { name: "Team_Photo.jpg", type: "image", size: "4.2 MB", icon: "image" }
            ];
            
            allFiles.forEach(file => {
                const fileCard = document.createElement('div');
                fileCard.className = 'file-card';
                
                const iconClass = `file-icon ${file.icon}`;
                const icon = file.icon === 'word' ? 'fa-file-word' : 
                            file.icon === 'pdf' ? 'fa-file-pdf' : 'fa-file-image';
                
                fileCard.innerHTML = `
                    <div class="${iconClass}">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div class="file-name">${file.name}</div>
                    <div class="file-size">${file.size}</div>
                    <div style="margin-top: 10px; display: flex; gap: 8px; justify-content: center;">
                        <button class="action-btn" style="font-size: 12px;">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="action-btn" style="font-size: 12px;">
                            <i class="fas fa-share"></i>
                        </button>
                        <button class="action-btn delete" style="font-size: 12px;">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                fileManagerGrid.appendChild(fileCard);
            });
        }
        
        function loadUsers() {
            const userList = document.getElementById('userList');
            userList.innerHTML = '';
            
            sampleUsers.forEach(user => {
                const userItem = document.createElement('li');
                userItem.className = 'user-item';
                
                const statusClass = `user-status ${user.status}`;
                
                userItem.innerHTML = `
                    <div class="user-avatar small">${getInitials(user.name)}</div>
                    <div class="user-details">
                        <h4>${user.name}</h4>
                        <p>${user.role}  ${user.department}</p>
                    </div>
                    <div class="${statusClass}"></div>
                `;
                
                userList.appendChild(userItem);
            });
        }
        
        function loadActivities() {
            const activityList = document.getElementById('activityList');
            activityList.innerHTML = '';
            
            const sampleActivities = [
                { type: "login", user: "John Smith", time: "09:15 AM", description: "John Smith logged in" },
                { type: "task", user: "Sarah Johnson", time: "09:05 AM", description: "Sarah Johnson completed 'API Documentation'" },
                { type: "logout", user: "Robert Taylor", time: "08:50 AM", description: "Robert Taylor logged out" },
                { type: "task", user: "Michael Brown", time: "08:40 AM", description: "Michael Brown started 'Database Optimization'" },
                { type: "login", user: "Emily Davis", time: "08:30 AM", description: "Emily Davis logged in" },
                { type: "task", user: "John Smith", time: "08:15 AM", description: "John Smith created new task 'Security Audit'" }
            ];
            
            sampleActivities.forEach(activity => {
                const activityItem = document.createElement('li');
                activityItem.className = 'activity-item';
                
                const iconClass = `activity-icon ${activity.type}`;
                const icon = activity.type === 'login' ? 'fa-sign-in-alt' : 
                            activity.type === 'logout' ? 'fa-sign-out-alt' : 'fa-tasks';
                
                activityItem.innerHTML = `
                    <div class="${iconClass}">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div class="activity-details">
                        <h4>${activity.description}</h4>
                        <p>${activity.time}</p>
                    </div>
                `;
                
                activityList.appendChild(activityItem);
            });
        }
        
        function loadFiles() {
            const fileGrid = document.getElementById('fileGrid');
            fileGrid.innerHTML = '';
            
            sampleFiles.forEach(file => {
                const fileCard = document.createElement('div');
                fileCard.className = 'file-card';
                
                const iconClass = `file-icon ${file.icon}`;
                const icon = file.icon === 'word' ? 'fa-file-word' : 
                            file.icon === 'pdf' ? 'fa-file-pdf' : 'fa-file-image';
                
                fileCard.innerHTML = `
                    <div class="${iconClass}">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div class="file-name">${file.name}</div>
                    <div class="file-size">${file.size}</div>
                `;
                
                fileGrid.appendChild(fileCard);
            });
        }
        
        function updateStats() {
            // Update total users
            document.getElementById('totalUsers').textContent = sampleUsers.length;
            
            // Update total tasks
            document.getElementById('totalTasks').textContent = sampleTasks.length;
            
            // Update active users
            const activeUsers = sampleUsers.filter(user => user.status === 'active').length;
            document.getElementById('activeUsers').textContent = activeUsers;
            
            // Update total projects
            const activeProjects = sampleProjects.filter(project => project.status === 'active').length;
            document.getElementById('totalProjects').textContent = activeProjects;
            
            // Update task badge in sidebar
            updateTaskBadges();
        }
        
        function updateTaskBadges() {
            // Update task count badge in sidebar
            const taskBadge = document.getElementById('taskBadge');
            if (taskBadge) {
                taskBadge.textContent = sampleTasks.length;
            }
            
            // Update todo badge in sidebar
            const todoBadge = document.getElementById('todoBadge');
            if (todoBadge) {
                const todoCount = sampleTodos.filter(todo => !todo.completed).length;
                todoBadge.textContent = todoCount;
            }
        }
        
        function getInitials(name) {
            return name.split(' ').map(part => part[0]).join('').toUpperCase();
        }
        
        function showNotification(title, message) {
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            
            const notification = document.getElementById('notification');
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }
        
        function updateDateTime() {
            const now = new Date();
            
            // Format time
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            minutes = minutes < 10 ? '0' + minutes : minutes;
            seconds = seconds < 10 ? '0' + seconds : seconds;
            
            const timeString = `${hours}:${minutes}:${seconds} ${ampm}`;
            document.getElementById('currentTime').textContent = timeString;
            
            // Format date
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', options);
            document.getElementById('currentDate').textContent = dateString;
        }
        
        function getCurrentTime() {
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            minutes = minutes < 10 ? '0' + minutes : minutes;
            
            return `${hours}:${minutes} ${ampm}`;
        }
        
        function updatePageTitle(pageId) {
            const titles = {
                dashboard: { title: 'Task Management Dashboard', desc: 'Welcome back! Here\'s what\'s happening with your tasks today.' },
                taskManagement: { title: 'Task Management', desc: 'Manage and track all tasks across your organization.' },
                kanbanBoard: { title: 'Kanban Board', desc: 'Visualize your workflow with drag-and-drop task management.' },
                todoList: { title: 'My To-Do List', desc: 'Your personal task list for daily activities.' },
                userManagement: { title: 'User Management', desc: 'Manage users, roles, and permissions across the system.' },
                projectManagement: { title: 'Project Management', desc: 'Organize tasks by projects and track progress.' },
                roleManagement: { title: 'Role Management', desc: 'Configure role-based access control and permissions.' },
                timeTracking: { title: 'Login/Logout Time Tracking', desc: 'Track employee attendance and working hours.' },
                attendance: { title: 'Attendance Reports', desc: 'View and export attendance reports.' },
                productivity: { title: 'Productivity Analytics', desc: 'Track productivity metrics and insights.' },
                reports: { title: 'Reports', desc: 'Generate and view system reports.' },
                fileManager: { title: 'File Manager', desc: 'Upload, manage, and organize project files and documents.' },
                settings: { title: 'System Settings', desc: 'Configure system preferences and options.' },
                notifications: { title: 'Notifications', desc: 'View and manage system notifications.' }
            };
            
            const pageTitle = document.getElementById('pageTitle');
            const pageDescription = document.getElementById('pageDescription');
            
            if (titles[pageId]) {
                pageTitle.textContent = titles[pageId].title;
                pageDescription.textContent = titles[pageId].desc;
            } else {
                pageTitle.textContent = 'Task Management Dashboard';
                pageDescription.textContent = 'Welcome back! Here\'s what\'s happening with your tasks today.';
            }
        }
        
        function initializeCharts() {
            // Destroy existing charts if they exist
            if (attendanceChart) attendanceChart.destroy();
            if (workingHoursChart) workingHoursChart.destroy();
            if (productivityChart) productivityChart.destroy();
            if (userRankingChart) userRankingChart.destroy();
            if (performanceChart) performanceChart.destroy();
            if (departmentChart) departmentChart.destroy();
            
            // Initialize charts
            updateAttendanceChart();
            updateProductivityChart();
            updateReportsCharts();
            
            // Working Hours Chart
            const workingHoursCtx = document.getElementById('workingHoursChart').getContext('2d');
            workingHoursChart = new Chart(workingHoursCtx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Avg. Working Hours',
                        data: [8.5, 8.0, 9.0, 8.5, 7.5, 4.0, 2.0],
                        borderColor: 'rgba(67, 97, 238, 1)',
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10
                        }
                    }
                }
            });
            
            // User Ranking Chart
            const userRankingCtx = document.getElementById('userRankingChart').getContext('2d');
            userRankingChart = new Chart(userRankingCtx, {
                type: 'bar',
                data: {
                    labels: sampleProductivity.map(u => u.user.split(' ')[0]),
                    datasets: [{
                        label: 'Productivity Score',
                        data: sampleProductivity.map(u => u.score),
                        backgroundColor: [
                            'rgba(76, 201, 240, 0.7)',
                            'rgba(67, 97, 238, 0.7)',
                            'rgba(114, 9, 183, 0.7)',
                            'rgba(248, 150, 30, 0.7)',
                            'rgba(247, 37, 133, 0.7)',
                            'rgba(43, 45, 66, 0.7)'
                        ],
                        borderColor: [
                            'rgba(76, 201, 240, 1)',
                            'rgba(67, 97, 238, 1)',
                            'rgba(114, 9, 183, 1)',
                            'rgba(248, 150, 30, 1)',
                            'rgba(247, 37, 133, 1)',
                            'rgba(43, 45, 66, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10
                        }
                    }
                }
            });
        }
        
        function updateAttendanceChart() {
            const chartType = document.getElementById('attendanceChartType').value;
            const attendanceCtx = document.getElementById('attendanceChart').getContext('2d');
            
            if (attendanceChart) attendanceChart.destroy();
            
            attendanceChart = new Chart(attendanceCtx, {
                type: chartType,
                data: {
                    labels: ['Present', 'Absent', 'Late', 'Half Day', 'Leave'],
                    datasets: [{
                        label: 'Attendance',
                        data: [85, 5, 7, 2, 1],
                        backgroundColor: [
                            'rgba(76, 201, 240, 0.7)',
                            'rgba(247, 37, 133, 0.7)',
                            'rgba(248, 150, 30, 0.7)',
                            'rgba(114, 9, 183, 0.7)',
                            'rgba(67, 97, 238, 0.7)'
                        ],
                        borderColor: [
                            'rgba(76, 201, 240, 1)',
                            'rgba(247, 37, 133, 1)',
                            'rgba(248, 150, 30, 1)',
                            'rgba(114, 9, 183, 1)',
                            'rgba(67, 97, 238, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: chartType === 'pie'
                        }
                    }
                }
            });
        }
        
        function updateProductivityChart() {
            const chartType = document.getElementById('productivityChartType').value;
            const productivityCtx = document.getElementById('productivityChart').getContext('2d');
            
            let labels, data;
            
            if (chartType === 'monthly') {
                labels = ['Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar'];
                data = [65, 70, 72, 78, 75, 80];
            } else if (chartType === 'weekly') {
                labels = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
                data = [70, 75, 78, 82];
            } else {
                labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];
                data = [75, 80, 78, 85, 82];
            }
            
            if (productivityChart) productivityChart.destroy();
            
            productivityChart = new Chart(productivityCtx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Productivity %',
                        data: data,
                        borderColor: 'rgba(67, 97, 238, 1)',
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 50,
                            max: 100
                        }
                    }
                }
            });
        }
        
        function updateReportsCharts() {
            // Performance Chart
            const performanceCtx = document.getElementById('performanceChart').getContext('2d');
            performanceChart = new Chart(performanceCtx, {
                type: 'radar',
                data: {
                    labels: ['Task Completion', 'On-Time Delivery', 'Quality', 'Collaboration', 'Innovation', 'Client Satisfaction'],
                    datasets: [{
                        label: 'Current Month',
                        data: [78, 85, 82, 88, 75, 84],
                        backgroundColor: 'rgba(67, 97, 238, 0.2)',
                        borderColor: 'rgba(67, 97, 238, 1)',
                        pointBackgroundColor: 'rgba(67, 97, 238, 1)'
                    }, {
                        label: 'Previous Month',
                        data: [72, 82, 78, 85, 70, 80],
                        backgroundColor: 'rgba(76, 201, 240, 0.2)',
                        borderColor: 'rgba(76, 201, 240, 1)',
                        pointBackgroundColor: 'rgba(76, 201, 240, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100
                        }
                    }
                }
            });
            
            // Department Chart
            const departmentCtx = document.getElementById('departmentChart').getContext('2d');
            departmentChart = new Chart(departmentCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Development', 'Design', 'Marketing', 'Sales', 'HR'],
                    datasets: [{
                        label: 'Tasks Completed',
                        data: [45, 28, 32, 25, 18],
                        backgroundColor: [
                            'rgba(67, 97, 238, 0.7)',
                            'rgba(76, 201, 240, 0.7)',
                            'rgba(114, 9, 183, 0.7)',
                            'rgba(248, 150, 30, 0.7)',
                            'rgba(247, 37, 133, 0.7)'
                        ],
                        borderColor: [
                            'rgba(67, 97, 238, 1)',
                            'rgba(76, 201, 240, 1)',
                            'rgba(114, 9, 183, 1)',
                            'rgba(248, 150, 30, 1)',
                            'rgba(247, 37, 133, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
        }
        
        function initDraggable() {
            const taskCards = document.querySelectorAll('.task-card');
            const columns = document.querySelectorAll('.column-content');
            
            taskCards.forEach(card => {
                card.addEventListener('dragstart', dragStart);
            });
            
            columns.forEach(col => {
                col.addEventListener('dragover', dragOver);
                col.addEventListener('drop', drop);
                col.addEventListener('dragenter', dragEnter);
                col.addEventListener('dragleave', dragLeave);
            });
        }
        
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.id);
            e.dataTransfer.setData('status', e.target.dataset.status);
            setTimeout(() => {
                e.target.classList.add('dragging');
            }, 0);
        }
        
        function dragOver(e) {
            e.preventDefault();
        }
        
        function dragEnter(e) {
            e.target.closest('.column-content').classList.add('drag-over');
        }
        
        function dragLeave(e) {
            if (!e.target.closest('.column-content') || 
                !e.target.closest('.column-content').contains(e.relatedTarget)) {
                e.target.closest('.column-content')?.classList.remove('drag-over');
            }
        }
        
        function drop(e) {
            e.preventDefault();
            const columnContent = e.target.closest('.column-content');
            columnContent.classList.remove('drag-over');
            
            const taskId = e.dataTransfer.getData('text/plain');
            const oldStatus = e.dataTransfer.getData('status');
            const newStatus = columnContent.parentElement.querySelector('.column-header').classList[1];
            
            // Find the task in sampleTasks and update its status
            const taskIndex = sampleTasks.findIndex(task => task.id == taskId);
            if (taskIndex !== -1) {
                sampleTasks[taskIndex].status = newStatus;
                
                // Show notification
                showNotification('Task Moved', `${sampleTasks[taskIndex].title} moved to ${newStatus.replace(/([A-Z])/g, ' $1').trim()}`);
                
                // Reload Kanban board and task table
                loadTasksToKanban();
                loadTaskTable();
                initDraggable();
            }
        }
        
        // Make functions available globally for onclick handlers
        window.editTask = editTask;
        window.deleteTask = deleteTask;
        window.editUser = editUser;
        window.deleteUser = deleteUser;
        window.editProject = editProject;
        window.deleteProject = deleteProject;
        window.editRole = editRole;
        window.deleteRole = deleteRole;
        window.editTodo = editTodo;
        window.deleteTodo = deleteTodo;
    </script>
</body>
</html>